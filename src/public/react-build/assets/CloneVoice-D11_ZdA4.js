import{a as Pe,r as l,j as e}from"./index-B_YWOrie.js";import{api as Be}from"./api-CYk9FEKy.js";const ze=({shop:we})=>{const[be]=Pe(),ye=we||be.get("shop"),[U,ee]=l.useState("record"),[I,ae]=l.useState(!1),[G,te]=l.useState(null),[R,y]=l.useState(null),[N,k]=l.useState(null),[m,L]=l.useState(0),[j,P]=l.useState(0),[v,B]=l.useState(!0),[n,se]=l.useState(0),[$,ne]=l.useState(""),[re,ie]=l.useState(""),[X,Ne]=l.useState("en"),[M,E]=l.useState(null),[oe,h]=l.useState(""),[le,ce]=l.useState(!1),[Te,Ae]=l.useState(!1),[de,he]=l.useState(!1),[K,ke]=l.useState(0),[Y,Z]=l.useState(!1),J=[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"ar",name:"Arabic",flag:"ðŸ‡¸ðŸ‡¦"},{code:"bn",name:"Bengali",flag:"ðŸ‡§ðŸ‡©"},{code:"bg",name:"Bulgarian",flag:"ðŸ‡§ðŸ‡¬"},{code:"zh",name:"Chinese",flag:"ðŸ‡¨ðŸ‡³"},{code:"hr",name:"Croatian",flag:"ðŸ‡­ðŸ‡·"},{code:"cs",name:"Czech",flag:"ðŸ‡¨ðŸ‡¿"},{code:"da",name:"Danish",flag:"ðŸ‡©ðŸ‡°"},{code:"nl",name:"Dutch",flag:"ðŸ‡³ðŸ‡±"},{code:"fi",name:"Finnish",flag:"ðŸ‡«ðŸ‡®"},{code:"fr",name:"French",flag:"ðŸ‡«ðŸ‡·"},{code:"ka",name:"Georgian",flag:"ðŸ‡¬ðŸ‡ª"},{code:"de",name:"German",flag:"ðŸ‡©ðŸ‡ª"},{code:"el",name:"Greek",flag:"ðŸ‡¬ðŸ‡·"},{code:"gu",name:"Gujarati",flag:"ðŸ‡®ðŸ‡³"},{code:"he",name:"Hebrew",flag:"ðŸ‡®ðŸ‡±"},{code:"hi",name:"Hindi",flag:"ðŸ‡®ðŸ‡³"},{code:"hu",name:"Hungarian",flag:"ðŸ‡­ðŸ‡º"},{code:"id",name:"Indonesian",flag:"ðŸ‡®ðŸ‡©"},{code:"it",name:"Italian",flag:"ðŸ‡®ðŸ‡¹"},{code:"ja",name:"Japanese",flag:"ðŸ‡¯ðŸ‡µ"},{code:"kn",name:"Kannada",flag:"ðŸ‡®ðŸ‡³"},{code:"ko",name:"Korean",flag:"ðŸ‡°ðŸ‡·"},{code:"ms",name:"Malay",flag:"ðŸ‡²ðŸ‡¾"},{code:"ml",name:"Malayalam",flag:"ðŸ‡®ðŸ‡³"},{code:"mr",name:"Marathi",flag:"ðŸ‡®ðŸ‡³"},{code:"no",name:"Norwegian",flag:"ðŸ‡³ðŸ‡´"},{code:"pl",name:"Polish",flag:"ðŸ‡µðŸ‡±"},{code:"pt",name:"Portuguese",flag:"ðŸ‡µðŸ‡¹"},{code:"pa",name:"Punjabi",flag:"ðŸ‡®ðŸ‡³"},{code:"ru",name:"Russian",flag:"ðŸ‡·ðŸ‡º"},{code:"sk",name:"Slovak",flag:"ðŸ‡¸ðŸ‡°"},{code:"es",name:"Spanish",flag:"ðŸ‡ªðŸ‡¸"},{code:"sv",name:"Swedish",flag:"ðŸ‡¸ðŸ‡ª"},{code:"tl",name:"Tagalog",flag:"ðŸ‡µðŸ‡­"},{code:"ta",name:"Tamil",flag:"ðŸ‡®ðŸ‡³"},{code:"te",name:"Telugu",flag:"ðŸ‡®ðŸ‡³"},{code:"th",name:"Thai",flag:"ðŸ‡¹ðŸ‡­"},{code:"tr",name:"Turkish",flag:"ðŸ‡¹ðŸ‡·"},{code:"uk",name:"Ukrainian",flag:"ðŸ‡ºðŸ‡¦"},{code:"vi",name:"Vietnamese",flag:"ðŸ‡»ðŸ‡³"}],ue=J.find(a=>a.code===X)||J[0],g=l.useRef(null),p=l.useRef(null),me=l.useRef(null);l.useRef(null);const[w,Q]=l.useState([]),[D,_]=l.useState(!1),[b,T]=l.useState(0),[W,ge]=l.useState(!1),[z,fe]=l.useState(!1),V=l.useRef(null);l.useEffect(()=>{const a=s=>{s.target.closest(".language-dropdown")||Z(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const[H,pe]=l.useState(!1),xe=H?"Main Scalysis par apni voice clone karne ke liye audio record kar raha hoon. Iske baad, main apni tarah ki speech produce kar paunga. Mujhe sunne mein mazaa aayega ki main kaise sound karta hoon.":"I'm recording audio to clone my voice on Scalysis. Afterwards, I'll be able to produce speech that sounds just like me. I can't wait to hear what I sound like.",Me=()=>{navigator.clipboard.writeText(xe),h("Text copied to clipboard"),setTimeout(()=>h(""),2e3)},Ce=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(a),r=[];s.ondataavailable=o=>{o.data.size>0&&r.push(o.data)},s.onstop=()=>{try{if(r.length===0){console.error("No audio chunks recorded"),h("Recording failed: No audio data"),a.getTracks().forEach(t=>t.stop());return}const o=new Blob(r,{type:"audio/webm"});if(!o||o.size===0){console.error("Invalid blob created"),h("Recording failed: Invalid audio data"),a.getTracks().forEach(t=>t.stop());return}const i=URL.createObjectURL(o);y(o),k(i),E(new File([o],"recording.webm",{type:"audio/webm"})),h("Recording saved"),he(!0),a.getTracks().forEach(t=>t.stop());try{const t=new Audio(i);t.addEventListener("error",d=>{console.error("Audio loading error:",d),h("Recording saved but failed to load. Please try recording again.")}),t.addEventListener("loadedmetadata",()=>{try{if(t.duration&&!isNaN(t.duration)&&isFinite(t.duration))se(t.duration),v&&(P(t.duration),L(0)),ve(o).catch(d=>{console.error("Waveform generation error:",d),h("Recording saved but waveform generation failed. You can still proceed.")});else throw new Error("Invalid audio duration")}catch(d){console.error("Error processing recording metadata:",d),h("Recording saved but failed to process. Please try recording again.")}}),t.load()}catch(t){console.error("Error creating audio element:",t),h("Recording saved but failed to process. Please try recording again.")}}catch(o){console.error("Error in recorder.onstop:",o),h("Recording failed. Please try again."),a.getTracks().forEach(i=>i.stop())}},s.start(),ae(!0),te(s),h("Recording..."),k(null),y(null)}catch(a){console.error("Recording error:",a),alert("Failed to start recording: "+a.message)}},Se=()=>{G&&G.state!=="inactive"&&(G.stop(),ae(!1),te(null))},Ee=async a=>{try{const s=a.target.files[0];if(!s)return;if(!s.type.startsWith("audio/")){alert("Please select a valid audio file"),g.current&&(g.current.value="");return}const r=50*1024*1024;if(s.size>r){alert("File size is too large. Please select a file smaller than 50MB"),g.current&&(g.current.value="");return}E(s);const o=URL.createObjectURL(s);k(o),h("File selected: "+s.name);try{const i=new Audio(o);i.addEventListener("error",t=>{console.error("Audio loading error:",t),alert("Failed to load audio file. Please try a different file format."),E(null),k(null),y(null),g.current&&(g.current.value="")}),i.addEventListener("loadedmetadata",()=>{try{if(i.duration&&!isNaN(i.duration)&&isFinite(i.duration))se(i.duration),v&&(P(i.duration),L(0)),ve(s).catch(t=>{console.error("Waveform generation error:",t),h("File loaded but waveform generation failed. You can still proceed.")});else throw new Error("Invalid audio duration")}catch(t){console.error("Error processing audio metadata:",t),alert("Failed to process audio file. Please try a different file."),E(null),k(null),y(null),g.current&&(g.current.value="")}}),i.load()}catch(i){console.error("Error creating audio element:",i),alert("Failed to process audio file. Please try a different file format."),E(null),k(null),y(null),g.current&&(g.current.value="");return}try{const i=await s.arrayBuffer(),t=new Blob([i],{type:s.type});y(t)}catch(i){console.error("Error creating blob:",i);try{const t=new Blob([s],{type:s.type});y(t)}catch(t){console.error("Fallback blob creation failed:",t),h("File selected but blob creation failed. Please try again.")}}}catch(s){console.error("Error in handleFileChange:",s),alert("An error occurred while processing the file. Please try again."),E(null),k(null),y(null),g.current&&(g.current.value="")}},De=async()=>{if(!$.trim()){alert("Please enter a voice name");return}if(!M&&!R){alert("Please select an audio file or record audio");return}try{ce(!0),h("Cloning voice...");const a=new FormData;let s=R||M;if(!v&&(R||M)&&j>m)try{s=await Fe(R||M,m,j)}catch(o){console.error("Error trimming audio:",o),alert("Failed to trim audio. Using entire clip instead."),s=R||M}a.append("clip",s),a.append("name",$.trim()),a.append("description",re.trim()||""),a.append("language",X);const r=await Be.cloneVoice(ye,a);r.success?(alert("Voice created successfully!"),window.dispatchEvent(new CustomEvent("voiceCloned",{detail:{voice:r.voice}})),ne(""),ie(""),pe(!1),E(null),y(null),k(null),h(""),L(0),P(0),B(!0),g.current&&(g.current.value="")):(alert(r.error||"Failed to create voice"),h(""))}catch(a){console.error("Create voice error:",a),alert("Error creating voice: "+a.message),h("")}finally{ce(!1)}},Fe=async(a,s,r)=>{try{const o=await a.arrayBuffer(),i=new(window.AudioContext||window.webkitAudioContext),t=await i.decodeAudioData(o),d=t.sampleRate,u=Math.floor(s*d),f=Math.floor(r*d)-u,c=i.createBuffer(t.numberOfChannels,f,d);for(let S=0;S<t.numberOfChannels;S++){const F=t.getChannelData(S),Le=c.getChannelData(S);for(let q=0;q<f;q++)Le[q]=F[u+q]}const C=Re(c);return new Blob([C],{type:"audio/wav"})}catch(o){throw console.error("Error trimming audio:",o),o}},Re=a=>{const s=a.length,r=a.numberOfChannels,o=a.sampleRate,i=new ArrayBuffer(44+s*r*2),t=new DataView(i),d=(x,f)=>{for(let c=0;c<f.length;c++)t.setUint8(x+c,f.charCodeAt(c))};d(0,"RIFF"),t.setUint32(4,36+s*r*2,!0),d(8,"WAVE"),d(12,"fmt "),t.setUint32(16,16,!0),t.setUint16(20,1,!0),t.setUint16(22,r,!0),t.setUint32(24,o,!0),t.setUint32(28,o*r*2,!0),t.setUint16(32,r*2,!0),t.setUint16(34,16,!0),d(36,"data"),t.setUint32(40,s*r*2,!0);let u=44;for(let x=0;x<s;x++)for(let f=0;f<r;f++){const c=Math.max(-1,Math.min(1,a.getChannelData(f)[x]));t.setInt16(u,c<0?c*32768:c*32767,!0),u+=2}return i},ve=async a=>{try{if(!a){console.error("No audio blob provided");return}let s;try{s=await a.arrayBuffer()}catch(c){throw console.error("Error reading array buffer:",c),new Error("Failed to read audio file")}if(!s||s.byteLength===0)throw new Error("Audio file is empty");let r;try{r=new(window.AudioContext||window.webkitAudioContext)}catch(c){throw console.error("Error creating audio context:",c),new Error("Audio context not supported")}let o;try{o=await r.decodeAudioData(s.slice(0))}catch(c){throw console.error("Error decoding audio data:",c),new Error("Failed to decode audio. Please try a different file format.")}if(!o||!o.getChannelData||o.numberOfChannels===0)throw new Error("Invalid audio data");const i=o.getChannelData(0);if(!i||i.length===0)throw new Error("No audio data found");const t=200,d=Math.max(1,Math.floor(i.length/t)),u=[];for(let c=0;c<t;c++){let C=0;const A=c*d,S=Math.min(A+d,i.length);for(let F=A;F<S;F++)i[F]!==void 0&&!isNaN(i[F])&&(C+=Math.abs(i[F]));S>A?u.push(C/(S-A)):u.push(0)}if(u.length===0)throw new Error("No waveform data generated");const x=Math.max(...u);if(x===0||!isFinite(x)){Q(new Array(t).fill(.1));return}const f=u.map(c=>{const C=c/x;return isFinite(C)&&C>=0?C:0});Q(f)}catch(s){throw console.error("Error generating waveform:",s),Q([]),s}},je=()=>{p.current&&(D?p.current.pause():(v?p.current.currentTime=0:p.current.currentTime=m,p.current.play()),_(!D))};l.useEffect(()=>{const a=p.current;if(!a||!N)return;const s=()=>{T(a.currentTime),!v&&a.currentTime>=j&&(a.pause(),_(!1),a.currentTime=m)},r=()=>{_(!1),v?(T(0),a.currentTime=0):(T(m),a.currentTime=m)};return a.addEventListener("timeupdate",s),a.addEventListener("ended",r),()=>{a.removeEventListener("timeupdate",s),a.removeEventListener("ended",r)}},[N,D,v,m,j]);const O=a=>{a==="start"&&ge(!0),a==="end"&&fe(!0)};return l.useEffect(()=>{const a=r=>{if(!V.current||!W&&!z)return;const o=V.current.getBoundingClientRect(),i=r.clientX-o.left,d=Math.max(0,Math.min(100,i/o.width*100))/100*n;if(W){const u=Math.min(d,j-.1);L(u),B(!1)}if(z){const u=Math.max(d,m+.1);P(u),B(!1)}},s=()=>{ge(!1),fe(!1)};return(W||z)&&(window.addEventListener("mousemove",a),window.addEventListener("mouseup",s)),()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",s)}},[W,z,n,m,j]),l.useEffect(()=>{N&&p.current&&p.current.load()},[N]),e.jsxs("div",{className:"clone-voice-page",children:[e.jsx("div",{className:"clone-voice-top-header",children:e.jsx("h1",{className:"clone-voice-title",children:"Instantly Mirror anyone's Voice"})}),e.jsxs("div",{className:"clone-voice-cards-container",children:[e.jsxs("div",{className:"clone-voice-card input-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("div",{className:"section-number",children:"1"}),e.jsx("h2",{className:"section-title",children:"Audio"})]}),e.jsxs("div",{className:"clone-tabs",children:[e.jsxs("button",{className:`clone-tab-btn ${U==="record"?"active":""}`,onClick:()=>ee("record"),children:[e.jsx("img",{src:"/images/record.svg",alt:"",width:"20",height:"20"}),e.jsx("span",{children:"Record"})]}),e.jsxs("button",{className:`clone-tab-btn ${U==="upload"?"active":""}`,onClick:()=>ee("upload"),children:[e.jsx("img",{src:"/images/upload.svg",alt:"",width:"20",height:"20"}),e.jsx("span",{children:"Upload"})]})]}),U==="record"&&e.jsxs("div",{className:"record-section",children:[e.jsx("h3",{className:"record-heading",children:"Record a voice clip"}),(I||N)&&e.jsxs("div",{className:"audio-waveform-section",children:[e.jsx("p",{className:"waveform-label",children:"Select 3-10 seconds of audio to use"}),e.jsx("div",{className:"waveform-container",ref:me,children:N?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"waveform-visualization",ref:V,children:[e.jsx("div",{className:"waveform-bars",children:w.length>0&&n>0?w.map((a,s)=>{try{const r=s/w.length*100,o=n>0?m/n*100:0,i=n>0?j/n*100:0,t=v||r>=o&&r<=i,d=n>0?b/n*100:0,u=Math.abs(r-d)<.5,x=isFinite(a)&&a>=0?a:0,f=Math.max(5,Math.min(90,x*80+10)),c=w.length>0?100/w.length:0;return e.jsx("div",{className:`waveform-bar ${t?"selected":""} ${u?"playing":""}`,style:{height:`${f}%`,width:`${c}%`}},s)}catch(r){return console.error("Error rendering waveform bar:",r),null}}):e.jsx("div",{className:"waveform-loading",children:"Loading waveform..."})}),!v&&n>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"selection-overlay",style:{left:`${Math.max(0,Math.min(100,m/n*100))}%`,width:`${Math.max(0,Math.min(100,(j-m)/n*100))}%`}}),e.jsx("div",{className:"selection-handle selection-handle-start",style:{left:`${Math.max(0,Math.min(100,m/n*100))}%`},onMouseDown:a=>{a.preventDefault(),O("start")}}),e.jsx("div",{className:"selection-handle selection-handle-end",style:{left:`${Math.max(0,Math.min(100,j/n*100))}%`},onMouseDown:a=>{a.preventDefault(),O("end")}})]}),D&&n>0&&e.jsx("div",{className:"playback-indicator",style:{left:`${Math.max(0,Math.min(100,b/n*100))}%`}})]}),e.jsxs("div",{className:"audio-info",children:[e.jsxs("span",{className:"audio-length",children:["Length: ",n.toFixed(2),"s"]}),e.jsxs("label",{className:"use-entire-clip",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:a=>{B(a.target.checked),a.target.checked&&(L(0),P(n))}}),e.jsx("span",{children:"Use entire clip"})]})]}),e.jsxs("div",{className:"audio-player-controls",children:[e.jsx("button",{className:"play-button",onClick:je,children:D?e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"6",y:"4",width:"4",height:"16",fill:"currentColor"}),e.jsx("rect",{x:"14",y:"4",width:"4",height:"16",fill:"currentColor"})]}):e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M8 5V19L19 12L8 5Z",fill:"currentColor"})})}),e.jsxs("div",{className:"audio-time",children:[e.jsxs("span",{children:[Math.floor(b/60),":",String(Math.floor(b%60)).padStart(2,"0")]}),e.jsx("span",{children:"/"}),e.jsxs("span",{children:[Math.floor(n/60),":",String(Math.floor(n%60)).padStart(2,"0")]})]}),e.jsx("div",{className:"audio-progress-bar",children:e.jsx("div",{className:"audio-progress-fill",style:{width:`${n>0?Math.max(0,Math.min(100,b/n*100)):0}%`}})})]}),e.jsx("audio",{ref:p,src:N,style:{display:"none"},onTimeUpdate:()=>{p.current&&T(p.current.currentTime)}})]}):e.jsxs("div",{className:"recording-indicator",children:[e.jsx("div",{className:"recording-dot"}),e.jsx("span",{children:"Recording..."})]})})]}),e.jsxs("button",{className:`record-button ${I?"recording":""}`,onClick:I?Se:Ce,type:"button",children:[e.jsx("img",{src:"/images/record.svg",alt:"",width:"24",height:"24"}),e.jsx("span",{children:I?"Stop Recording":"Start Recording"})]}),e.jsxs("div",{className:"best-results-tips",children:[e.jsx("p",{className:"tips-title",children:"Best Results:"}),e.jsxs("div",{className:"tips-tags",children:[e.jsxs("div",{className:"tip-tag",children:[e.jsx("img",{src:"/images/speech.svg",alt:"",width:"20",height:"20"}),e.jsx("span",{children:"5-10s of speech"})]}),e.jsxs("div",{className:"tip-tag",children:[e.jsx("img",{src:"/images/gaps.svg",alt:"",width:"20",height:"20"}),e.jsx("span",{children:"No gaps or silence"})]}),e.jsxs("div",{className:"tip-tag",children:[e.jsx("img",{src:"/images/pace.svg",alt:"",width:"20",height:"20"}),e.jsx("span",{children:"Matching pace"})]})]})]}),e.jsxs("div",{className:"reading-prompt",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("p",{className:"prompt-label",style:{margin:0},children:"Need something to read:"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"500"},children:"English"}),e.jsx("button",{type:"button",onClick:()=>pe(!H),style:{position:"relative",width:"36px",height:"18px",borderRadius:"9px",border:"none",background:H?"#4B5CFF":"#D1D5DB",cursor:"pointer",transition:"background 0.2s ease",padding:"2px",outline:"none"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"#FFFFFF",transition:"transform 0.2s ease",transform:H?"translateX(18px)":"translateX(0)",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})}),e.jsx("span",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"500"},children:"Hindi (Hinglish)"})]})]}),e.jsxs("div",{className:"sample-text-box",children:[e.jsx("div",{className:"sample-text-content",children:xe}),e.jsx("button",{className:"copy-icon-btn",onClick:Me,children:e.jsx("img",{src:"/images/copy.svg",alt:"Copy",width:"20",height:"20"})})]})]}),e.jsxs("div",{className:"noise-suppression-section",children:[e.jsxs("label",{className:"slider-label",children:[e.jsx("span",{children:"Noise Suppression Level:"}),e.jsx("span",{className:"slider-value",children:K})]}),e.jsx("input",{type:"range",min:"0",max:"100",value:K,onChange:a=>ke(parseInt(a.target.value)),className:"noise-slider",style:{"--slider-value":`${K}%`}}),e.jsx("p",{className:"slider-description",children:"Adjust the level of noise suppression applied to the audio clip. The higher the level, the more noise is suppressed."})]})]}),U==="upload"&&e.jsxs("div",{className:"upload-section",children:[e.jsxs("div",{className:"file-upload-area",children:[e.jsx("input",{ref:g,type:"file",id:"audioFile",className:"file-input",accept:"audio/*",onChange:Ee}),e.jsxs("label",{htmlFor:"audioFile",className:"file-upload-label",children:[e.jsx("img",{src:"/images/upload.svg",alt:"",width:"24",height:"24"}),e.jsx("span",{children:"Choose File"})]}),M&&e.jsx("span",{className:"file-name",children:M.name})]}),N&&e.jsxs("div",{className:"audio-waveform-section",children:[e.jsx("p",{className:"waveform-label",children:"Select 3-10 seconds of audio to use"}),e.jsxs("div",{className:"waveform-container",ref:me,children:[e.jsxs("div",{className:"waveform-visualization",ref:V,children:[e.jsx("div",{className:"waveform-bars",children:w.length>0&&n>0?w.map((a,s)=>{try{const r=s/w.length*100,o=n>0?m/n*100:0,i=n>0?j/n*100:0,t=v||r>=o&&r<=i,d=n>0?b/n*100:0,u=Math.abs(r-d)<.5,x=isFinite(a)&&a>=0?a:0,f=Math.max(5,Math.min(90,x*80+10)),c=w.length>0?100/w.length:0;return e.jsx("div",{className:`waveform-bar ${t?"selected":""} ${u?"playing":""}`,style:{height:`${f}%`,width:`${c}%`}},s)}catch(r){return console.error("Error rendering waveform bar:",r),null}}):e.jsx("div",{className:"waveform-loading",children:"Loading waveform..."})}),!v&&n>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"selection-overlay",style:{left:`${Math.max(0,Math.min(100,m/n*100))}%`,width:`${Math.max(0,Math.min(100,(j-m)/n*100))}%`}}),e.jsx("div",{className:"selection-handle selection-handle-start",style:{left:`${Math.max(0,Math.min(100,m/n*100))}%`},onMouseDown:a=>{a.preventDefault(),O("start")}}),e.jsx("div",{className:"selection-handle selection-handle-end",style:{left:`${Math.max(0,Math.min(100,j/n*100))}%`},onMouseDown:a=>{a.preventDefault(),O("end")}})]}),D&&n>0&&e.jsx("div",{className:"playback-indicator",style:{left:`${Math.max(0,Math.min(100,b/n*100))}%`}})]}),e.jsxs("div",{className:"audio-info",children:[e.jsxs("span",{className:"audio-length",children:["Length: ",n.toFixed(2),"s"]}),e.jsxs("label",{className:"use-entire-clip",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:a=>{B(a.target.checked),a.target.checked&&(L(0),P(n))}}),e.jsx("span",{children:"Use entire clip"})]})]}),e.jsxs("div",{className:"audio-player-controls",children:[e.jsx("button",{className:"play-button",onClick:je,children:D?e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"6",y:"4",width:"4",height:"16",fill:"currentColor"}),e.jsx("rect",{x:"14",y:"4",width:"4",height:"16",fill:"currentColor"})]}):e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M8 5V19L19 12L8 5Z",fill:"currentColor"})})}),e.jsxs("div",{className:"audio-time",children:[e.jsxs("span",{children:[Math.floor(b/60),":",String(Math.floor(b%60)).padStart(2,"0")]}),e.jsx("span",{children:"/"}),e.jsxs("span",{children:[Math.floor(n/60),":",String(Math.floor(n%60)).padStart(2,"0")]})]}),e.jsx("div",{className:"audio-progress-bar",children:e.jsx("div",{className:"audio-progress-fill",style:{width:`${n>0?Math.max(0,Math.min(100,b/n*100)):0}%`}})})]}),e.jsx("audio",{ref:p,src:N,style:{display:"none"},onTimeUpdate:()=>{p.current&&T(p.current.currentTime)}})]})]})]})]}),e.jsxs("div",{className:"clone-voice-card details-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("div",{className:"section-number",children:"2"}),e.jsx("h2",{className:"section-title",children:"Details"})]}),e.jsxs("div",{className:"details-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"voiceName",children:"Name*"}),e.jsx("input",{type:"text",id:"voiceName",className:"form-input",placeholder:"Enter voice name",value:$,onChange:a=>ne(a.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"voiceDescription",children:"Description"}),e.jsx("input",{type:"text",id:"voiceDescription",className:"form-input",placeholder:"Enter description (optional)",value:re,onChange:a=>ie(a.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"voiceLanguage",children:"Language*"}),e.jsx("div",{className:"language-dropdown-wrapper",children:e.jsxs("div",{className:`language-dropdown ${Y?"open":""}`,children:[e.jsxs("button",{type:"button",className:"language-dropdown-button",onClick:()=>Z(!Y),children:[e.jsx("span",{className:"language-flag",children:ue.flag}),e.jsx("span",{className:"language-name",children:ue.name}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M6 9L12 15L18 9"})})]}),Y&&e.jsx("div",{className:"language-dropdown-menu",children:e.jsx("div",{className:"language-list",children:J.map(a=>e.jsxs("button",{type:"button",className:"language-option",onClick:()=>{Ne(a.code),Z(!1)},children:[e.jsx("span",{className:"language-flag",children:a.flag}),e.jsx("span",{className:"language-name",children:a.name}),X===a.code&&e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})]},a.code))})})]})})]}),e.jsx("div",{className:"clone-button-wrapper",children:e.jsxs("button",{className:"clone-button",onClick:De,disabled:le||!R&&!M||!$,type:"button",children:[e.jsx("img",{src:"/images/clone.svg",alt:"",width:"16",height:"16"}),e.jsx("span",{children:le?"Cloning...":"Clone Voice"})]})})]})]})]}),e.jsxs("div",{className:"clone-voice-instructions-static",children:[e.jsxs("div",{className:"instructions-section instructions-do",children:[e.jsxs("div",{className:"instructions-section-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("h3",{className:"instructions-section-title",children:"Best Practices"})]}),e.jsxs("ol",{className:"instructions-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Upload voice in MP3 format"})," with ",e.jsx("strong",{children:"0 background noise"})]}),e.jsxs("li",{children:["Use a ",e.jsx("strong",{children:"quiet environment"})," with minimal echo and ambient sounds"]}),e.jsxs("li",{children:["Record ",e.jsx("strong",{children:"3-10 seconds"})," of clear, natural speech"]}),e.jsxs("li",{children:["Speak at a ",e.jsx("strong",{children:"normal pace"})," and volume - avoid shouting or whispering"]}),e.jsxs("li",{children:["Use a ",e.jsx("strong",{children:"good quality microphone"})," for best results"]}),e.jsxs("li",{children:["Ensure the audio file is ",e.jsx("strong",{children:"uncompressed or high-quality"})," (minimum 16kHz sample rate)"]})]})]}),e.jsxs("div",{className:"instructions-section instructions-avoid",children:[e.jsxs("div",{className:"instructions-section-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("h3",{className:"instructions-section-title",children:"Things to Avoid"})]}),e.jsxs("ol",{className:"instructions-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Don't play audio from phone speaker and then record"})," - This disrupts quality from speaker. Instead, use the upload file directly."]}),e.jsxs("li",{children:["While testing audio on call, ",e.jsx("strong",{children:"listen with ear or earphones"})," - Listening on speaker or real phone call speaker would disrupt the quality."]}),e.jsxs("li",{children:["Avoid ",e.jsx("strong",{children:"background music, TV, or other voices"})," in the recording"]}),e.jsxs("li",{children:["Don't use ",e.jsx("strong",{children:"heavily compressed audio files"})," or low bitrate recordings"]}),e.jsxs("li",{children:["Avoid ",e.jsx("strong",{children:"echo, reverb, or room noise"})," in the recording environment"]})]})]})]}),de&&oe&&e.jsx("div",{className:`clone-voice-notification ${de?"show":"hide"}`,children:e.jsxs("div",{className:"clone-voice-notification-content",children:[e.jsx("span",{className:"clone-voice-notification-text",children:oe}),e.jsx("button",{className:"clone-voice-notification-close",onClick:()=>{he(!1),setTimeout(()=>h(""),300)},children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})};export{ze as default};
