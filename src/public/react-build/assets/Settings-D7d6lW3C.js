import{a as Zs,r as a,j as e,R as Xs}from"./index-B_YWOrie.js";import{api as R}from"./api-CYk9FEKy.js";import{b as us}from"./SkeletonLoader-yUhZSPDa.js";/* empty css                 *//* empty css             */const wi=({shop:gs})=>{const[q]=Zs(),l=gs||q.get("shop"),[C,ke]=a.useState({email:"",name:"",avatar:"",phone:""}),[oe,ze]=a.useState(""),[u,W]=a.useState({maxRetries:3,retryIntervalMinutes:60,autoCancelOnMaxRetries:!1,maxOutcomeRetries:null,allowedTimeStart:"09:00",allowedTimeEnd:"18:00",timezone:"Asia/Kolkata",allowedDays:[1,2,3,4,5]}),[Oe,He]=a.useState(!0),[S,B]=a.useState(!1),[J,n]=a.useState({type:"",text:""}),[fs,Ie]=a.useState("cards"),[d,Ee]=a.useState(null),[ei,js]=a.useState("profile"),[Ke,$e]=a.useState([]),[Pe,re]=a.useState(!1),[ae,ce]=a.useState(null),[v,F]=a.useState({name:"",description:"",content:"",websiteLink:"",extraContent:""}),[Re,qe]=a.useState(!1),[si,ii]=a.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("userChannels");return s?parseInt(s):1}return 1}),[ti,ai]=a.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("userShiftTime");return s?parseInt(s):8}return 8}),[li,ni]=a.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("userTalkTime");return s?parseInt(s):120}return 120}),[z,Be]=a.useState({autoCallEnabled:!1,autoCallScriptId:null}),[g,U]=a.useState({inboundEnabled:!1,phoneNumber:"",defaultInboundScriptId:null,inboundLookback:24}),vs=async()=>{if(l)try{const i=await(await window.fetch(`/api/user-retry-settings?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();i.success&&i.settings&&U({inboundEnabled:i.settings.inboundEnabled||!1,phoneNumber:i.settings.phoneNumber||"",defaultInboundScriptId:i.settings.defaultInboundScriptId||null,inboundLookback:i.settings.inboundLookback!==void 0&&i.settings.inboundLookback!==null?i.settings.inboundLookback:24})}catch{}},Ve=async()=>{try{B(!0);const i=await(await window.fetch(`/api/user-retry-settings?shop=${encodeURIComponent(l)}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop:l,settings:{inboundEnabled:g.inboundEnabled,phoneNumber:g.phoneNumber,defaultInboundScriptId:g.defaultInboundScriptId,inboundLookback:g.inboundLookback}})})).json();if(!i.success)throw new Error(i.error||"Failed to save inbound settings");n({type:"success",text:"Inbound settings saved successfully"})}catch(s){n({type:"error",text:s.message||"Failed to save inbound settings"})}finally{B(!1),setTimeout(()=>n({type:"",text:""}),3e3)}},[h,A]=a.useState({googleSheetsEnabled:!1,googleSheetsUrl:"",googleSheetsPhoneColumn:"",googleSheetsNameColumn:"",googleSheetsAutoQueue:!1,googleSheetsScriptId:null,googleSheetsKnowledgeColumns:[]}),[de,ys]=a.useState([]),[oi,Ns]=a.useState({accountType:"standard",freeTokenLimit:1e4,remainingFreeTokens:1e4}),[O,Ge]=a.useState({status:null,speedOrdersPerHour:0,inQueue:0}),[pe,_e]=a.useState(!1),[V,bs]=a.useState([]),[me,Qe]=a.useState("time-based"),[G,he]=a.useState(1),Te=10,[xe,Ye]=a.useState(""),[D,Cs]=a.useState("script-variables"),[ws,Ss]=a.useState(()=>{const s=localStorage.getItem("floatingWidgetVisible");return s!==null?s==="true":!1}),[ri,ci]=a.useState(""),[di,ks]=a.useState([]),[pi,mi]=a.useState(!1),[hi,xi]=a.useState({}),[ui,gi]=a.useState({}),[H,ue]=a.useState({enabled:!1,email:"",dailySummaryEmailTime:"18:00"}),[Is,le]=a.useState({channels:1,shopifyOrdersPerHour:0,callsInitiatedPerHour:0,loading:!1}),[m,Es]=a.useState("base"),[f,Z]=a.useState(null),[j,Ae]=a.useState(null),[Ps,Je]=a.useState(!1),[b,Fe]=a.useState("lifetime"),[Ze,Rs]=a.useState(""),[Xe,Bs]=a.useState(""),[ge,Ts]=a.useState(null),X={"script-variables":{title:"Script Variables",content:`Script variables allow you to personalize your call scripts with dynamic information from each order. Use these variables in your script content, and they will be automatically replaced with actual order data when making calls.

Available Variables:
â€¢ [ORDER_NUMBER] - The order number (e.g., #1038)
â€¢ [ORDER_AMOUNT] - The total order amount with currency
â€¢ [CUSTOMER_NAME] - The customer's full name
â€¢ [CUSTOMER_ADDRESS] - The complete delivery address
â€¢ [DELIVERY_DATE] - The expected or actual delivery date

Usage Example:
"Hello [CUSTOMER_NAME], this is regarding your order [ORDER_NUMBER] for [ORDER_AMOUNT]. We wanted to confirm your delivery address: [CUSTOMER_ADDRESS]."

The system will automatically replace these variables with the actual values from the order when the call is made.`},"clone-voice":{title:"How to Mirror Your Voice",content:`Voice cloning allows you to create a custom AI voice that sounds like you. This feature uses advanced AI technology to replicate your voice characteristics.

Steps to Clone Your Voice:

1. Navigate to the Clone Voice page
2. Choose your input method:
   - Record directly using your microphone
   - Upload an audio file (WAV, MP3, or WebM format)

3. For Recording:
   - Click "Start Recording" and speak clearly
   - Read the sample text provided or use your own
   - Click "Stop Recording" when finished
   - Minimum recommended: 10-15 seconds of clear audio

4. For File Upload:
   - Click "Upload Audio File"
   - Select a high-quality audio file
   - Ensure the audio is clear with minimal background noise

5. Review Your Audio:
   - Listen to the recording/upload
   - Use the waveform to select specific portions if needed
   - Adjust noise suppression if necessary

6. Enter Voice Details:
   - Voice Name: Give your cloned voice a name
   - Description: Optional description
   - Language: Select the primary language

7. Click "Clone" to create your voice
   - Processing typically takes 1-2 minutes
   - You'll receive a notification when complete

Best Practices:
â€¢ Use a quiet environment with minimal background noise
â€¢ Speak clearly and at a normal pace
â€¢ Ensure good microphone quality
â€¢ Record at least 10-15 seconds for best results
â€¢ Use consistent tone and volume throughout

Your cloned voice will be available in the Voices tab and can be assigned to any agent.`}},As=a.useMemo(()=>{if(!X[D])return"";if(!xe.trim())return X[D].content;const s=xe.toLowerCase();return X[D].content.split(`
`).map(o=>o.toLowerCase().includes(s)?`**${o}**`:o).join(`
`)},[xe,D]),[fe,es]=a.useState([]),[fi,Fs]=a.useState(0),[Ds,ss]=a.useState({}),[Ls,De]=a.useState(!1),[je,is]=a.useState(null),[ts,Le]=a.useState(!1),[as,ls]=a.useState(""),[T,ne]=a.useState({shopDomain:"",clientId:"",clientSecret:""}),[ve,ee]=a.useState(!1),[ye,ns]=a.useState(!1),[Ne,os]=a.useState(""),[k,_]=a.useState({email:"",password:""}),[be,se]=a.useState(!1),[Ce,rs]=a.useState(!1),[we,cs]=a.useState(""),[I,Q]=a.useState({email:"",password:""}),[We,Ue]=a.useState(null);a.useEffect(()=>{$s(),vs(),l&&(Me(),Ws(),Us(),Ms(),Hs(),Ks());const s=q.get("card");s&&(console.log("ðŸ” Opening card from URL parameter:",s),Ee(s),Ie(s));const i=q.get("fromSetup"),t=q.get("shop"),o=q.get("clientId"),r=q.get("clientSecret");i==="true"&&(t||o||r)&&(console.log("ðŸ” Pre-filling Shopify connection data from TourSetup:",{shopParam:t,hasClientId:!!o,hasClientSecret:!!r}),ne({shopDomain:t||"",clientId:o||"",clientSecret:r||""}))},[l,q]),a.useEffect(()=>{d==="plan"&&m&&f===null&&Z(m)},[d,m]);const Se=async(s="lifetime",i=null,t=null)=>{if(l)try{Je(!0);let o=null,r=null;if(s==="today"){const c=new Date;c.setHours(0,0,0,0),o=c.toISOString().split("T")[0],r=c.toISOString().split("T")[0]}else s==="custom"&&i&&t&&(o=i,r=t);const x=await R.getPlanUsage(l,o,r);x.success&&x.data?Ae(x.data):Ae(null)}catch(o){console.error("Error loading plan usage:",o),Ae(null)}finally{Je(!1)}};a.useEffect(()=>{d==="plan"&&l&&Se("lifetime")},[d,l]),a.useEffect(()=>{if(d!=="channel-status"||!l)return;(async()=>{try{le(t=>({...t,loading:!0}));const i=await R.getShopBalance(l);if(i.success&&i.data){const t=i.data.channels||1;try{const r=await(await window.fetch(`/api/orders?shop=${encodeURIComponent(l)}&limit=1000`,{credentials:"include"})).json(),x=r.success?r.orders||[]:[],c=new Date(Date.now()-1440*60*1e3),M=x.filter(P=>new Date(P.createdAt||P.created_at)>=c),K=Math.round(M.length/24),E=t*36;le({channels:t,shopifyOrdersPerHour:K,callsInitiatedPerHour:E,loading:!1})}catch(o){console.error("Error calculating orders per hour:",o),le({channels:t,shopifyOrdersPerHour:0,callsInitiatedPerHour:t*36,loading:!1})}}}catch(i){console.error("Error loading channel status:",i),le(t=>({...t,loading:!1}))}})()},[d,l]),a.useEffect(()=>{if(d!=="account-settings"||!l)return;const s=async()=>{try{_e(!0);const[t,o]=await Promise.all([R.getSystemStatus(l).catch(r=>({success:!1,error:r.message})),R.getCallsPerHour(l,24).catch(r=>({success:!1,error:r.message}))]);if(t.success){const r=t.status||"inactive",x=t.queuedOrdersCount||0;Ge(c=>({...c,status:r==="active"?"active":"inactive",inQueue:x}))}if(o.success&&o.callsPerHour){const r=o.callsPerHour;if(bs(r),r.length>0){const x=r.reduce((M,K)=>M+(K.count||0),0),c=Math.round(x/r.length);Ge(M=>({...M,speedOrdersPerHour:c}))}}}catch(t){console.error("Error fetching account health:",t)}finally{_e(!1)}};s();const i=setInterval(s,3e4);return()=>clearInterval(i)},[d,l]),d==="inbound-settings"&&l&&(!g||Object.keys(g).length===0||(e.Fragment,g.inboundEnabled,g.phoneNumber,g.inboundLookback,g.defaultInboundScriptId,de.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))));const Ws=async()=>{if(l)try{const s=[{number:"1913528324",category:"Base",country:"IN"}];es(s);const i={};for(const t of s)try{i[t.number]={calls:0,type:t.number.length<=10?"Mobile":"Landline",region:t.number.startsWith("191")?"Jammu":"Mumbai"}}catch(o){console.error(`Error loading stats for ${t.number}:`,o),i[t.number]={calls:0,type:"N/A",region:"N/A"}}ss(i)}catch(s){console.error("Error loading phone numbers:",s),es([]),ss({})}},Us=async()=>{if(l)try{const i=await(await fetch(`/api/total-calls?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();i.success&&i.totalCalls&&Fs(i.totalCalls)}catch(s){console.error("Error loading total calls:",s)}},Ms=async()=>{try{const i=await(await window.fetch("/api/integrations/status",{credentials:"include"})).json();i.connected&&i.shop?(De(!0),is(i.shop)):De(!1)}catch(s){console.error("Error checking connection status:",s)}},zs=async s=>{s.preventDefault(),ls(""),Le(!0);try{if(!T.shopDomain.endsWith(".myshopify.com"))throw new Error("Shop domain must end with .myshopify.com");if(!T.clientId||!T.clientSecret)throw new Error("Client ID and Client Secret are required");const i=await window.fetch("/connect-shop",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:new URLSearchParams({shopDomain:T.shopDomain,clientId:T.clientId,clientSecret:T.clientSecret})});if(!i.ok){const o=await i.json().catch(()=>({error:"Failed to store credentials"}));throw new Error(o.error||"Failed to store credentials")}const t=await i.json();if(t.success)n({type:"success",text:t.message||"Credentials stored successfully! Please go to your Shopify Partner Dashboard â†’ Distributions â†’ Get the install link and click Install."}),ne({shopDomain:"",clientId:"",clientSecret:""}),Le(!1),setTimeout(()=>n({type:"",text:""}),1e4);else throw new Error(t.error||"Failed to store credentials")}catch(i){ls(i.message||"Failed to connect store"),n({type:"error",text:i.message||"Failed to connect store"}),setTimeout(()=>n({type:"",text:""}),3e3),Le(!1)}},Os=async()=>{if(confirm("Are you sure you want to disconnect this store?"))try{if((await(await window.fetch("/api/integrations/disconnect",{method:"POST",credentials:"include"})).json()).success)De(!1),is(null),n({type:"success",text:"Store disconnected successfully"}),setTimeout(()=>n({type:"",text:""}),3e3);else throw new Error("Failed to disconnect")}catch(s){n({type:"error",text:s.message||"Failed to disconnect"}),setTimeout(()=>n({type:"",text:""}),3e3)}},Hs=async()=>{try{const s=await window.fetch("/api/nimbuspost/status",{credentials:"include"}),i=s.headers.get("content-type");if(!i||!i.includes("application/json")){ee(!1);return}const t=await s.json();t.connected?(ee(!0),t.email&&_({email:t.email,password:""})):(ee(!1),_({email:"",password:""}))}catch(s){console.error("Error checking NimbusPost connection status:",s),ee(!1)}},ds=async s=>{s.preventDefault(),os(""),ns(!0);try{if(!k.email||!k.password)throw new Error("Email and password are required");const i=await window.fetch("/api/nimbuspost/connect",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k.email,password:k.password})}),t=i.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await i.text();throw new Error(`Server returned HTML instead of JSON. Status: ${i.status}. The API endpoint may not be implemented yet.`)}const o=await i.json();if(o.success)ee(!0),n({type:"success",text:"NimbusPost connected successfully"}),setTimeout(()=>n({type:"",text:""}),3e3);else throw new Error(o.error||"Failed to connect")}catch(i){let t=i.message||"Failed to connect NimbusPost";i.message&&i.message.includes("JSON")&&(t="Backend API endpoint not found. Please implement the /api/nimbuspost/connect endpoint on the server."),os(t),n({type:"error",text:t}),setTimeout(()=>n({type:"",text:""}),3e3)}finally{ns(!1)}},ps=async()=>{if(confirm("Are you sure you want to disconnect NimbusPost?"))try{if((await(await window.fetch("/api/nimbuspost/disconnect",{method:"POST",credentials:"include"})).json()).success)ee(!1),_({email:"",password:""}),n({type:"success",text:"NimbusPost disconnected successfully"}),setTimeout(()=>n({type:"",text:""}),3e3);else throw new Error("Failed to disconnect")}catch(s){n({type:"error",text:s.message||"Failed to disconnect"}),setTimeout(()=>n({type:"",text:""}),3e3)}},Ks=async()=>{try{const s=await window.fetch("/api/shiprocket/status",{credentials:"include"}),i=s.headers.get("content-type");if(!i||!i.includes("application/json")){se(!1);return}const t=await s.json();t.connected?(se(!0),t.email&&Q({email:t.email,password:""})):(se(!1),Q({email:"",password:""}))}catch(s){console.error("Error checking Shiprocket connection status:",s),se(!1)}},ms=async s=>{s.preventDefault(),cs(""),rs(!0);try{if(!I.email||!I.password)throw new Error("Email and password are required");const i=await window.fetch("/api/shiprocket/connect",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:I.email,password:I.password})}),t=i.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await i.text();throw new Error(`Server returned HTML instead of JSON. Status: ${i.status}. The API endpoint may not be implemented yet.`)}const o=await i.json();if(o.success)se(!0),n({type:"success",text:"Shiprocket connected successfully"}),setTimeout(()=>n({type:"",text:""}),3e3);else throw new Error(o.error||"Failed to connect")}catch(i){let t=i.message||"Failed to connect Shiprocket";i.message&&i.message.includes("JSON")&&(t="Backend API endpoint not found. Please implement the /api/shiprocket/connect endpoint on the server."),cs(t),n({type:"error",text:t}),setTimeout(()=>n({type:"",text:""}),3e3)}finally{rs(!1)}},hs=async()=>{if(confirm("Are you sure you want to disconnect Shiprocket?"))try{if((await(await window.fetch("/api/shiprocket/disconnect",{method:"POST",credentials:"include"})).json()).success)se(!1),Q({email:"",password:""}),n({type:"success",text:"Shiprocket disconnected successfully"}),setTimeout(()=>n({type:"",text:""}),3e3);else throw new Error("Failed to disconnect")}catch(s){n({type:"error",text:s.message||"Failed to disconnect"}),setTimeout(()=>n({type:"",text:""}),3e3)}},Me=async()=>{try{const s=await R.getKnowledgeBooks(l),i=s?.knowledgeBooks||s||[];$e(Array.isArray(i)?i.filter(t=>t&&t.id):[])}catch(s){console.error("Error loading knowledge books:",s),$e([])}},$s=async()=>{try{He(!0);const s=await R.getUserProfile();if(s.success&&(ke({email:s.data?.email||"",name:s.data?.name||"",avatar:s.data?.avatar||"",phone:s.data?.phone||""}),ze(s.data?.avatar||"")),l)try{const t=await(await window.fetch(`/api/user-retry-settings?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();t.success&&t.settings&&W({maxRetries:t.settings.maxRetries!==void 0?t.settings.maxRetries:3,retryIntervalMinutes:t.settings.retryIntervalMinutes||60,autoCancelOnMaxRetries:t.settings.autoCancelOnMaxRetries||!1,maxOutcomeRetries:t.settings.maxOutcomeRetries!==void 0&&t.settings.maxOutcomeRetries!==null?t.settings.maxOutcomeRetries:null,allowedTimeStart:t.settings.allowedTimeStart||"09:00",allowedTimeEnd:t.settings.allowedTimeEnd||"18:00",timezone:t.settings.timezone||"Asia/Kolkata",allowedDays:t.settings.allowedDays?t.settings.allowedDays.split(",").map(Number):[1,2,3,4,5]});const r=await(await window.fetch(`/api/auto-call-settings?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();r.success&&r.settings&&Be({autoCallEnabled:r.settings.autoCallEnabled||!1,autoCallScriptId:r.settings.autoCallScriptId||null});const c=await(await window.fetch(`/api/google-sheets-settings?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();c.success&&c.settings&&A({googleSheetsEnabled:c.settings.googleSheetsEnabled||!1,googleSheetsUrl:c.settings.googleSheetsUrl||"",googleSheetsPhoneColumn:c.settings.googleSheetsPhoneColumn||"",googleSheetsNameColumn:c.settings.googleSheetsNameColumn||"",googleSheetsAutoQueue:c.settings.googleSheetsAutoQueue||!1,googleSheetsScriptId:c.settings.googleSheetsScriptId||null,googleSheetsKnowledgeColumns:c.settings.googleSheetsKnowledgeColumns||[]});try{const p=await(await window.fetch(`/api/email-update-settings?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();p.success&&p.settings&&ue({enabled:p.settings.enabled||!1,email:p.settings.email||"",dailySummaryEmailTime:p.settings.dailySummaryEmailTime||"18:00"})}catch(P){console.error("Error loading email update settings:",P)}const M=await R.getScripts(l),K=M?.scripts||M||[];ys(K);try{const p=await(await window.fetch(`/api/custom-campaign-rules?shop=${encodeURIComponent(l)}`,{credentials:"include"})).json();p.success&&p.rules&&ks(p.rules||[])}catch(P){console.error("Error loading custom campaign rules:",P)}const E=await R.getShopBalance(l);if(E.success&&E.data){if(Ns({accountType:E.data.accountType||"standard",freeTokenLimit:E.data.freeTokenLimit||1e4,remainingFreeTokens:E.data.remainingFreeTokens||1e4}),E.data.plan){let p=E.data.plan.toLowerCase().replace(/[_\s]/g,"-");p==="proplus"&&(p="pro-plus"),Es(p),f===null&&Z(p)}E.data.channels!==void 0&&le(P=>({...P,channels:E.data.channels||1}))}}catch(i){console.error("Error loading settings:",i)}}catch(s){console.error("Error loading settings:",s),n({type:"error",text:"Error loading settings"})}finally{He(!1)}},qs=s=>{const i=s.target.files[0];if(i){if(!i.type.startsWith("image/")){n({type:"error",text:"Please select an image file"}),setTimeout(()=>n({type:"",text:""}),3e3);return}if(i.size>2*1024*1024){n({type:"error",text:"Image size must be less than 2MB"}),setTimeout(()=>n({type:"",text:""}),3e3);return}const t=new FileReader;t.onloadend=()=>{const o=t.result;ze(o),ke({...C,avatar:o})},t.readAsDataURL(i)}},Vs=async()=>{try{B(!0);const s=await R.updateUserProfile(C.name,C.avatar,C.phone);if(s.success)n({type:"success",text:"Profile updated successfully"});else throw new Error(s.error||"Failed to update profile")}catch(s){n({type:"error",text:s.message||"Failed to update profile"})}finally{B(!1),setTimeout(()=>n({type:"",text:""}),3e3)}},xs=async()=>{try{B(!0);const i=await(await window.fetch(`/api/user-retry-settings?shop=${encodeURIComponent(l)}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop:l,settings:{...u,allowedDays:u.allowedDays.join(",")}})})).json();if(!i.success)throw new Error(i.error||"Failed to save retry settings");const o=await(await window.fetch(`/api/auto-call-settings?shop=${encodeURIComponent(l)}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop:l,autoCallEnabled:z.autoCallEnabled,autoCallScriptId:z.autoCallScriptId})})).json();if(!o.success)throw new Error(o.error||"Failed to save auto call settings");const x=await(await window.fetch(`/api/google-sheets-settings?shop=${encodeURIComponent(l)}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop:l,...h})})).json();if(!x.success)throw new Error(x.error||"Failed to save Google Sheets settings");n({type:"success",text:"Settings saved successfully"})}catch(s){n({type:"error",text:s.message||"Failed to save settings"})}finally{B(!1),setTimeout(()=>n({type:"",text:""}),3e3)}},Gs=async()=>{try{B(!0);const i=await(await window.fetch(`/api/email-update-settings?shop=${encodeURIComponent(l)}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop:l,settings:H})})).json();if(!i.success)throw new Error(i.error||"Failed to save email update settings");n({type:"success",text:"Email update settings saved successfully"})}catch(s){n({type:"error",text:s.message||"Failed to save email update settings"})}finally{B(!1),setTimeout(()=>n({type:"",text:""}),3e3)}},_s=s=>{W(i=>({...i,allowedDays:i.allowedDays.includes(s)?i.allowedDays.filter(t=>t!==s):[...i.allowedDays,s].sort()}))},Qs=async s=>{s.preventDefault();try{B(!0),ae?await R.updateKnowledgeBook(ae,l,v):await R.createKnowledgeBook(l,v),re(!1),ce(null),F({name:"",description:"",content:"",websiteLink:"",extraContent:""}),await Me(),n({type:"success",text:ae?"Knowledge book updated successfully":"Knowledge book created successfully"}),setTimeout(()=>n({type:"",text:""}),3e3)}catch(i){n({type:"error",text:i.message||"Failed to save knowledge book"}),setTimeout(()=>n({type:"",text:""}),3e3)}finally{B(!1)}},Ys=async s=>{if(confirm("Are you sure you want to delete this knowledge book?"))try{B(!0),await R.deleteKnowledgeBook(s,l),await Me(),n({type:"success",text:"Knowledge book deleted successfully"}),setTimeout(()=>n({type:"",text:""}),3e3)}catch(i){n({type:"error",text:i.message||"Failed to delete knowledge book"}),setTimeout(()=>n({type:"",text:""}),3e3)}finally{B(!1)}},Js=async()=>{if(!v.websiteLink||!v.websiteLink.trim()){n({type:"error",text:"Please enter a website URL"}),setTimeout(()=>n({type:"",text:""}),3e3);return}try{qe(!0),n({type:"info",text:"Fetching website content..."});const s=await R.fetchWebsiteContent(v.websiteLink.trim());if(s&&s.success&&s.content)F(i=>({...i,content:s.content})),n({type:"success",text:"Website content fetched successfully!"}),setTimeout(()=>n({type:"",text:""}),3e3);else{const i=s?.error||s?.details||"No content received from API";throw new Error(i)}}catch(s){console.error("Error fetching website:",s);let i="Failed to fetch website content";s.message?i=s.message:typeof s=="string"&&(i=s),n({type:"error",text:i}),setTimeout(()=>n({type:"",text:""}),5e3)}finally{qe(!1)}},y=s=>{Ee(s),Ie(s),js("profile")},N=()=>{Ie("cards"),Ee(null)};return Oe?e.jsx("div",{className:"settings-container",children:e.jsx(us,{})}):fs==="cards"?e.jsxs("div",{className:"settings-container",children:[J.text&&e.jsx("div",{className:`status-message ${J.type}`,children:J.text}),e.jsx("h2",{className:"settings-section-heading",children:"System Overview"}),e.jsxs("div",{className:"settings-profile-section",children:[e.jsxs("div",{className:"profile-avatar-section",children:[e.jsx("div",{className:"profile-avatar",children:oe?e.jsx("img",{src:oe,alt:"Profile"}):e.jsx("div",{className:"avatar-initials",children:C.name?C.name.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):"U"})}),e.jsxs("div",{className:"profile-info",children:[e.jsx("h2",{className:"profile-name",children:C.name||"User"}),e.jsx("p",{className:"profile-role",children:"Owner"}),e.jsx("div",{className:"profile-outgoing-tag",children:e.jsx("span",{className:"outgoing-tag",children:m==="base"?"Base (â‚¹2,800/mo)":m==="pro"?"Pro (â‚¹4,900/mo)":m==="pro-plus"?"Pro Plus (10 Channels)":m==="enterprise"?"Enterprise (Custom)":"Base (â‚¹2,800/mo)"})})]})]}),e.jsxs("div",{className:"profile-contact-section",children:[e.jsxs("div",{className:"contact-item",children:[e.jsx("span",{className:"contact-label",children:"Phone number"}),e.jsx("span",{className:"contact-value",children:fe.length>0?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"ðŸ‡®ðŸ‡³"}),e.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"IN"}),e.jsx("a",{href:`https://www.truecaller.com/search/in/${fe[0].number}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#4B5CFF",textDecoration:"none"},children:fe[0].number})]}):C.phone?C.phone:"Not provided"})]}),e.jsxs("div",{className:"contact-item",children:[e.jsx("span",{className:"contact-label",children:"Login email"}),e.jsx("span",{className:"contact-value",children:C.email}),e.jsx("button",{className:"edit-link",onClick:()=>y("profile"),children:"Edit"})]}),e.jsxs("div",{className:"contact-item",children:[e.jsx("span",{className:"contact-label",children:"Password"}),e.jsx("span",{className:"contact-value",children:"..........."}),e.jsx("button",{className:"edit-link",onClick:()=>y("profile"),children:"Edit"})]}),e.jsx("div",{className:"contact-item",children:e.jsx("div",{className:"current-limit-box",children:e.jsx("span",{children:m==="base"?"20 Initiated Calls/hour":m==="pro"?"60 Initiated Calls/hour":m==="pro-plus"?"200 Initiated Calls/hour":m==="enterprise"?"Custom Initiated Calls/hour":"20 Initiated Calls/hour"})})})]})]}),e.jsx("hr",{className:"settings-separator"}),e.jsx("h2",{className:"settings-section-heading",children:"Account Settings"}),e.jsx("div",{className:"settings-cards-section",children:e.jsx("div",{className:"settings-group",children:e.jsxs("div",{className:"settings-cards-grid",children:[e.jsxs("div",{className:"settings-card",onClick:()=>y("profile"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/profile-tick-8535312.svg",alt:"Profile"})}),e.jsx("h4",{className:"card-title",children:"Profile"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Name & Email"}),e.jsx("li",{children:"Avatar"}),e.jsx("li",{children:"Account details"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("plan"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/card-coin-8532167.svg",alt:"Plan"})}),e.jsx("h4",{className:"card-title",children:"Plan"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Current plan details"}),e.jsx("li",{children:"Plan features & limits"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("channel-status"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/call-2198440.svg",alt:"Channel Status"})}),e.jsx("h4",{className:"card-title",children:"Channel Status"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Channel capacity"}),e.jsx("li",{children:"Orders & calls per hour"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("retry"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/refresh-8532481.svg",alt:"Retry Settings"})}),e.jsx("h4",{className:"card-title",children:"Retry Settings"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Max retries"}),e.jsx("li",{children:"Time window"}),e.jsx("li",{children:"Allowed days"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("custom-campaign-rules"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/setting-8532400.svg",alt:"Custom Campaign Rules"})}),e.jsx("h4",{className:"card-title",children:"Custom Campaign Rules"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Script-based rules"}),e.jsx("li",{children:"Auto-call on outcomes"}),e.jsx("li",{children:"Per-script retry settings"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("inbound-settings"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/call-2198440.svg",alt:"Inbound Call Settings"})}),e.jsx("h4",{className:"card-title",children:"Inbound Call Settings"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Enable inbound calls"}),e.jsx("li",{children:"Inbound phone number"}),e.jsx("li",{children:"Default inbound script"})]})})]}),e.jsxs("div",{className:"settings-card",onClick:()=>y("phone-numbers"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/call-2198440.svg",alt:"Phone Numbers"})}),e.jsx("h4",{className:"card-title",children:"Phone Numbers"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Manage phone numbers"}),e.jsx("li",{children:"View call statistics"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("knowledge-books"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/book-8535533.svg",alt:"Knowledge Books"})}),e.jsx("h4",{className:"card-title",children:"Knowledge Books"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Create & manage"}),e.jsx("li",{children:"Content library"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("account-settings"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/setting-8532400.svg",alt:"Account Settings"})}),e.jsx("h4",{className:"card-title",children:"Account Settings"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Account health"}),e.jsx("li",{children:"Speed metrics"}),e.jsx("li",{children:"Call logs & analytics"})]})})]})]})})}),e.jsx("hr",{className:"settings-separator"}),e.jsx("h2",{className:"settings-section-heading",children:"Integrations"}),e.jsx("div",{className:"settings-cards-section",children:e.jsx("div",{className:"settings-group",children:e.jsxs("div",{className:"settings-cards-grid",children:[e.jsxs("div",{className:"settings-card",onClick:()=>y("integrations"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/link-8535459.svg",alt:"Integrations"})}),e.jsx("h4",{className:"card-title",children:"Integrations"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Shopify"}),e.jsx("li",{children:"API keys"}),e.jsx("li",{children:"Webhooks"})]})})]}),e.jsxs("div",{className:"settings-card",onClick:()=>y("ndr-integration"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/link-8535459.svg",alt:"NDR Integration"})}),e.jsx("h4",{className:"card-title",children:"NDR Integration"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"NimbusPost / Shiprocket"}),e.jsx("li",{children:"Manage NDR list"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("google-sheets"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/grid-8535417.svg",alt:"Google Sheets"})}),e.jsx("h4",{className:"card-title",children:"Google Sheets"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Import leads from Google Sheets"}),e.jsx("li",{children:"Auto-queue new orders"})]})})]})]})})}),e.jsx("hr",{className:"settings-separator"}),e.jsx("h2",{className:"settings-section-heading",children:"Support & Resources"}),e.jsx("div",{className:"settings-cards-section",children:e.jsx("div",{className:"settings-group",children:e.jsxs("div",{className:"settings-cards-grid",children:[e.jsxs("div",{className:"settings-card",onClick:()=>y("app-info"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/message-question-8535294.svg",alt:"App Info"})}),e.jsx("h4",{className:"card-title",children:"App Info"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Documentation"}),e.jsx("li",{children:"Guides & tutorials"}),e.jsx("li",{children:"Script variables"})]})})]}),e.jsxs("div",{className:"settings-card",onClick:()=>y("customer-support"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/message-2198428.svg",alt:"Customer Support"})}),e.jsx("h4",{className:"card-title",children:"Customer Support"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Contact support"}),e.jsx("li",{children:"Get help & assistance"})]})})]}),l&&e.jsxs("div",{className:"settings-card",onClick:()=>y("email-updates"),children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"card-icon",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/message-2198427.svg",alt:"Email Updates"})}),e.jsx("h4",{className:"card-title",children:"Email Updates"})]}),e.jsx("div",{className:"card-content",children:e.jsxs("ul",{className:"card-items",children:[e.jsx("li",{children:"Daily summary email"}),e.jsx("li",{children:"Automatic email scheduling"})]})})]})]})})})]}):Oe?e.jsx("div",{className:"settings-container",children:e.jsx(us,{})}):e.jsxs("div",{className:"settings-container",children:[J.text&&e.jsx("div",{className:`status-message ${J.type}`,children:J.text}),d!=="profile"&&d!=="retry"&&d!=="google-sheets"&&d!=="phone-numbers"&&d!=="ndr-integration"&&d!=="knowledge-books"&&d!=="account-settings"&&d!=="integrations"&&d!=="app-info"&&d!=="customer-support"&&d!=="custom-campaign-rules"&&d!=="email-updates"&&d!=="channel-status"&&d!=="plan"&&e.jsxs("button",{className:"back-button",onClick:N,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Back to Settings"]}),d==="inbound-settings"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Inbound Call Settings"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Inbound Call Routing"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Enable Inbound Calls"}),e.jsx("span",{className:"profile-detail-hint",children:"Allow customers to call your shop's number"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:g.inboundEnabled,onChange:s=>U({...g,inboundEnabled:s.target.checked})}),e.jsx("span",{className:"profile-toggle-slider"})]})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Inbound Phone Number"}),e.jsx("span",{className:"profile-detail-hint",children:"This number will be used for inbound calls"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:g.phoneNumber,onChange:s=>U({...g,phoneNumber:s.target.value}),placeholder:"Enter inbound phone number"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Lookback Hours"}),e.jsx("span",{className:"profile-detail-hint",children:"How many hours to look back for inbound calls"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"number",className:"profile-detail-input",min:1,value:g.inboundLookback||"",onChange:s=>U({...g,inboundLookback:parseInt(s.target.value)||1}),placeholder:"Enter lookback hours"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Default Inbound Script"}),e.jsx("span",{className:"profile-detail-hint",children:"Script to use for inbound calls"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("select",{className:"profile-detail-input",value:g.defaultInboundScriptId||"",onChange:s=>U({...g,defaultInboundScriptId:s.target.value?parseInt(s.target.value):null}),children:[e.jsx("option",{value:"",children:"-- Select a script --"}),de.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})})]})]})]}),e.jsx("div",{className:"profile-save-container",children:e.jsx("button",{className:"profile-save-button-new",onClick:Ve,disabled:S,children:S?"Saving...":"Save Inbound Settings"})})]}),d==="phone-numbers"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"My Phone Numbers"}),e.jsx("div",{className:"profile-detail-section",children:e.jsx("div",{className:"profile-detail-box",children:(()=>{const s=m==="base"?2:m==="pro"?6:m==="pro-plus"?20:2,i=r=>r?r.startsWith("+191")||r.startsWith("191")?"Jammu":"Mumbai":"N/A",t=r=>r?r.length<=10?"Mobile":"Landline":"N/A",o=Array.from({length:s},(r,x)=>{const c=fe[x]||null;return{index:x,number:c?.number||null,assigned:!!c,stats:c?Ds[c.number]||{calls:0,type:t(c.number),region:i(c.number)}:null}});return e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:o.map((r,x)=>e.jsx("div",{style:{padding:"16px",border:"1px solid #E5E7EB",borderRadius:"8px",background:"#FFFFFF",cursor:r.assigned?"pointer":"default",transition:"all 0.2s"},onMouseEnter:c=>{r.assigned&&(c.currentTarget.style.borderColor="#4B5CFF",c.currentTarget.style.boxShadow="0 2px 8px rgba(75, 92, 255, 0.1)")},onMouseLeave:c=>{c.currentTarget.style.borderColor="#E5E7EB",c.currentTarget.style.boxShadow="none"},onClick:()=>{r.assigned&&r.number&&window.open(`https://www.truecaller.com/search/in/${r.number}`,"_blank","noopener,noreferrer")},children:r.assigned?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:e.jsx("div",{style:{flex:1},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"ðŸ‡®ðŸ‡³"}),e.jsx("a",{href:`https://www.truecaller.com/search/in/${r.number}`,onClick:c=>c.stopPropagation(),target:"_blank",rel:"noopener noreferrer",style:{color:"#4B5CFF",textDecoration:"none",fontSize:"16px",fontWeight:"600"},onMouseEnter:c=>{c.currentTarget.style.textDecoration="underline"},onMouseLeave:c=>{c.currentTarget.style.textDecoration="none"},children:r.number})]})})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #F3F4F6"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:"Stats"}),e.jsxs("span",{style:{fontSize:"14px",color:"#111827",fontWeight:"600"},children:[r.stats?.calls||0," calls"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:"Number Type"}),e.jsx("span",{style:{fontSize:"14px",color:"#111827",fontWeight:"600"},children:r.stats?.type||"N/A"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:"Region"}),e.jsx("span",{style:{fontSize:"14px",color:"#111827",fontWeight:"600"},children:r.stats?.region||"N/A"})]})]})]}):e.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:e.jsx("div",{style:{display:"inline-block",padding:"6px 12px",background:"#FEF3C7",color:"#92400E",borderRadius:"6px",fontSize:"13px",fontWeight:"500"},children:"Need to be assigned"})})},x))})})()})})]}),d==="integrations"&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Integrations"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Shopify Integration"}),e.jsx("div",{className:"profile-detail-box",children:Ls&&je?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Status"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{style:{color:"#10B981",fontWeight:"500"},children:"Connected"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Shop Domain"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:je.shopDomain})})]}),je.connectedAt&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Connected On"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:new Date(je.connectedAt).toLocaleDateString()})})]})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("button",{className:"profile-save-button-new",onClick:Os,style:{background:"#DC2626"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/logout-8532474.svg",alt:"Disconnect",style:{width:"16px",height:"16px",filter:"brightness(0) invert(1)",marginRight:"8px"}}),"Disconnect"]})})]})]}):e.jsxs(e.Fragment,{children:[as&&e.jsx("div",{style:{padding:"12px",background:"#FEE2E2",color:"#DC2626",borderRadius:"6px",marginBottom:"16px",fontSize:"14px"},children:as}),e.jsxs("form",{onSubmit:zs,children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Shop Domain"}),e.jsx("span",{className:"profile-detail-hint",children:"Use your myshopify.com domain"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",placeholder:"example.myshopify.com",value:T.shopDomain,onChange:s=>ne({...T,shopDomain:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Client ID"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",placeholder:"App client ID",value:T.clientId,onChange:s=>ne({...T,clientId:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Access Token"}),e.jsx("span",{className:"profile-detail-hint",children:"Your Shopify private app access token"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"password",className:"profile-detail-input",placeholder:"Shopify access token",value:T.clientSecret,onChange:s=>ne({...T,clientSecret:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("button",{type:"submit",className:"profile-save-button-new",disabled:ts,children:ts?"Connecting...":"Connect Shopify"})})]})]})]})})]})]}),d==="profile"&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Profile"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("label",{htmlFor:"userAvatar",className:"profile-detail-item profile-picture-item-wrapper",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Profile picture"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("div",{className:"profile-avatar-wrapper",children:[e.jsx("div",{className:"profile-avatar-circle",children:oe?e.jsx("img",{src:oe,alt:"Profile"}):e.jsx("div",{className:"profile-avatar-initials",children:C.name?C.name.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):"U"})}),e.jsx("div",{className:"profile-avatar-edit-overlay",children:e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/edit-8535505.svg",alt:"Edit"})})]})}),e.jsx("input",{type:"file",id:"userAvatar",accept:"image/*",onChange:qs,style:{display:"none"}})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Name"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:C.name,onChange:s=>ke({...C,name:s.target.value}),placeholder:"Enter your full name"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Email"}),e.jsx("span",{className:"profile-detail-hint",children:"Email cannot be changed"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"email",className:"profile-detail-input profile-detail-input-disabled",value:C.email,disabled:!0})})]})]}),e.jsx("div",{className:"profile-save-container",children:e.jsx("button",{className:"profile-save-button-new",onClick:Vs,disabled:S,children:S?"Saving...":"Save Profile"})})]}),d==="retry"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Retry Settings"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Failed Call Retries"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"How Many Times to Retry"}),e.jsx("span",{className:"profile-detail-hint",children:"How many times should we try calling if the first call fails? (0-10)"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"number",className:"profile-detail-input",min:"0",max:"10",value:u.maxRetries,onChange:s=>{const i=s.target.value===""?0:parseInt(s.target.value);isNaN(i)||W({...u,maxRetries:i})}})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Wait Time Between Retries"}),e.jsx("span",{className:"profile-detail-hint",children:"How long to wait before trying again (in minutes)"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"number",className:"profile-detail-input",min:"2",max:"1440",value:u.retryIntervalMinutes,onChange:s=>W({...u,retryIntervalMinutes:parseInt(s.target.value)})})})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Auto-Cancel"}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Auto cancel in Shopify after max retries"}),e.jsx("span",{className:"profile-detail-hint",children:"Automatically cancel the order in Shopify when we've tried calling the maximum number of times"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:u.autoCancelOnMaxRetries,onChange:s=>W({...u,autoCancelOnMaxRetries:s.target.checked})}),e.jsx("span",{className:"profile-toggle-slider"})]})})]})})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Retry Outcome"}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Max Outcome Retries"}),e.jsx("span",{className:"profile-detail-hint",children:"Maximum number of retries allowed for orders that match retry criteria (leave empty for no limit)"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"number",className:"profile-detail-input",min:"0",max:"100",value:u.maxOutcomeRetries!==null&&u.maxOutcomeRetries!==void 0?u.maxOutcomeRetries:"",placeholder:"No limit",onChange:s=>{const i=s.target.value===""?null:parseInt(s.target.value);(s.target.value===""||!isNaN(i)&&i>=0)&&W({...u,maxOutcomeRetries:i})}})})]})})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"When to Make Calls"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Start Time"}),e.jsx("span",{className:"profile-detail-hint",children:"Earliest time we can start calling"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"time",className:"profile-detail-input",value:u.allowedTimeStart,onChange:s=>W({...u,allowedTimeStart:s.target.value})})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"End Time"}),e.jsx("span",{className:"profile-detail-hint",children:"Latest time we can make calls"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"time",className:"profile-detail-input",value:u.allowedTimeEnd,onChange:s=>W({...u,allowedTimeEnd:s.target.value})})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Timezone"}),e.jsx("span",{className:"profile-detail-hint",children:"Your local timezone"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("select",{className:"profile-detail-input",value:u.timezone,onChange:s=>W({...u,timezone:s.target.value}),children:[e.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),e.jsx("option",{value:"Asia/Dubai",children:"Asia/Dubai (GST)"}),e.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"}),e.jsx("option",{value:"America/Los_Angeles",children:"America/Los_Angeles (PST)"}),e.jsx("option",{value:"Europe/London",children:"Europe/London (GMT)"}),e.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (CET)"})]})})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Automation"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Automatically call new orders"}),e.jsx("span",{className:"profile-detail-hint",children:"Start calling new orders automatically as soon as they come in"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:z.autoCallEnabled,onChange:s=>{const i=s.target.checked;Be({...z,autoCallEnabled:i,autoCallScriptId:i?z.autoCallScriptId:null})}}),e.jsx("span",{className:"profile-toggle-slider"})]})})]}),z.autoCallEnabled&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Select Script"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("select",{className:"profile-detail-input",value:z.autoCallScriptId||"",onChange:s=>Be({...z,autoCallScriptId:s.target.value?parseInt(s.target.value):null}),children:[e.jsx("option",{value:"",children:"-- Select a script --"}),de.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})})]})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Days to Make Calls"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Days to Make Calls"}),e.jsx("span",{className:"profile-detail-hint",children:"Select which days of the week we can make calls"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("div",{className:"profile-days-display-text",children:u.allowedDays.length>0?`${u.allowedDays.length} day${u.allowedDays.length>1?"s":""} selected`:"Select days"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsx("div",{className:"profile-days-horizontal",children:[{value:1,label:"Mon"},{value:2,label:"Tue"},{value:3,label:"Wed"},{value:4,label:"Thu"},{value:5,label:"Fri"},{value:6,label:"Sat"},{value:0,label:"Sun"}].map(s=>e.jsx("button",{type:"button",className:`profile-day-box ${u.allowedDays.includes(s.value)?"profile-day-box-selected":""}`,onClick:()=>_s(s.value),children:s.label},s.value))})]})]}),e.jsx("div",{className:"profile-save-container",children:e.jsx("button",{className:"profile-save-button-new",onClick:xs,disabled:S,children:S?"Saving...":"Save Settings"})})]}),d==="google-sheets"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Google Sheets Integration"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Configuration"}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Import from Google Sheets"}),e.jsx("span",{className:"profile-detail-hint",children:"Automatically get new customers from your Google Sheet and add them for calling"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:h.googleSheetsEnabled,onChange:s=>{const i=s.target.checked;A({...h,googleSheetsEnabled:i})}}),e.jsx("span",{className:"profile-toggle-slider"})]})})]})})]}),h.googleSheetsEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Sheet Setup"}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Google Sheet Link"}),e.jsx("span",{className:"profile-detail-hint",children:`Paste the full link to your Google Sheet (make sure it's set to "Anyone with the link can view")`})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:h.googleSheetsUrl,onChange:s=>A({...h,googleSheetsUrl:s.target.value}),placeholder:"https://docs.google.com/spreadsheets/d/..."})})]})})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Column Configuration"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Phone Number Column"}),e.jsx("span",{className:"profile-detail-hint",children:"Which column has phone numbers? (Enter the letter like A, B, C)"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:h.googleSheetsPhoneColumn,onChange:s=>A({...h,googleSheetsPhoneColumn:s.target.value}),placeholder:"A, B, C, etc."})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Customer Name Column"}),e.jsx("span",{className:"profile-detail-hint",children:"Which column has customer names? (Enter the letter like A, B, C)"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:h.googleSheetsNameColumn,onChange:s=>A({...h,googleSheetsNameColumn:s.target.value}),placeholder:"A, B, C, etc."})})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Additional Information"}),e.jsxs("div",{className:"profile-detail-box",children:[h.googleSheetsKnowledgeColumns.length>0?e.jsxs(e.Fragment,{children:[h.googleSheetsKnowledgeColumns.map((s,i)=>e.jsxs(Xs.Fragment,{children:[i>0&&e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsxs("span",{children:["Knowledge Column ",i+1]}),e.jsx("span",{className:"profile-detail-hint",children:"Add extra columns from your sheet that should be included in the call"})]}),e.jsxs("div",{className:"profile-detail-action",style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",className:"profile-detail-input",style:{width:"80px"},value:s.column,onChange:t=>{const o=[...h.googleSheetsKnowledgeColumns];o[i].column=t.target.value.toUpperCase(),A({...h,googleSheetsKnowledgeColumns:o})},placeholder:"Column"}),e.jsx("input",{type:"text",className:"profile-detail-input",style:{width:"150px"},value:s.title,onChange:t=>{const o=[...h.googleSheetsKnowledgeColumns];o[i].title=t.target.value,A({...h,googleSheetsKnowledgeColumns:o})},placeholder:"Title"}),e.jsx("button",{type:"button",onClick:()=>{const t=h.googleSheetsKnowledgeColumns.filter((o,r)=>r!==i);A({...h,googleSheetsKnowledgeColumns:t})},className:"profile-edit-button",style:{width:"auto",padding:"8px 12px"},children:"Remove"})]})]})]},i)),e.jsx("hr",{className:"profile-detail-divider"})]}):null,e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("button",{type:"button",onClick:()=>{A({...h,googleSheetsKnowledgeColumns:[...h.googleSheetsKnowledgeColumns,{column:"",title:""}]})},className:"profile-save-button-new",style:{background:"transparent",border:"1px solid #D1D5DB",color:"#111827"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/add-8535609.svg",alt:"Add",style:{width:"16px",height:"16px",marginRight:"8px"}}),"Add Knowledge Column"]})})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Automation"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Automatically call when new order found"}),e.jsx("span",{className:"profile-detail-hint",children:"Start calling customers automatically when new orders are found in your Google Sheet"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:h.googleSheetsAutoQueue,onChange:s=>A({...h,googleSheetsAutoQueue:s.target.checked})}),e.jsx("span",{className:"profile-toggle-slider"})]})})]}),h.googleSheetsAutoQueue&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Select Script"}),e.jsx("span",{className:"profile-detail-hint",children:"Choose which script to use when calling customers from Google Sheets"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("select",{className:"profile-detail-input",value:h.googleSheetsScriptId||"",onChange:s=>A({...h,googleSheetsScriptId:s.target.value?parseInt(s.target.value):null}),children:[e.jsx("option",{value:"",children:"-- Choose a script --"}),de.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})})]})]})]})]})]}),e.jsx("div",{className:"profile-save-container",children:e.jsx("button",{className:"profile-save-button-new",onClick:xs,disabled:S,children:S?"Saving...":"Save Settings"})})]}),d==="email-updates"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Email Updates"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Daily Summary Email"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Enable Email Updates"}),e.jsx("span",{className:"profile-detail-hint",children:"Receive daily summary emails"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:H.enabled,onChange:s=>ue({...H,enabled:s.target.checked})}),e.jsx("span",{className:"profile-toggle-slider"})]})})]}),H.enabled&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Email Address"}),e.jsx("span",{className:"profile-detail-hint",children:"Enter the email address to receive daily summaries"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"email",className:"profile-detail-input",value:H.email,onChange:s=>ue({...H,email:s.target.value}),placeholder:"Enter email address"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Send automatic summary email at"}),e.jsx("span",{className:"profile-detail-hint",children:"Set the time when you want to receive your daily summary email"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"time",className:"profile-detail-input",value:H.dailySummaryEmailTime,onChange:s=>ue({...H,dailySummaryEmailTime:s.target.value})})})]})]})]})]}),e.jsx("div",{className:"profile-save-container",children:e.jsx("button",{className:"profile-save-button-new",onClick:Gs,disabled:S,children:S?"Saving...":"Save Settings"})})]}),d==="plan"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Plan"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsxs("div",{className:"profile-detail-box",style:{marginBottom:"16px"},children:[e.jsx("div",{className:"profile-detail-item",style:{cursor:"pointer",padding:"16px"},onClick:()=>Z(f==="base"?null:"base"),onMouseEnter:s=>s.currentTarget.style.background="#F9FAFB",onMouseLeave:s=>s.currentTarget.style.background="transparent",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/card-coin-8532167.svg",alt:"Base",style:{width:"24px",height:"24px"}}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Base Plan (â‚¹2,800/mo)"}),m==="base"&&e.jsx("span",{style:{padding:"4px 8px",background:"#10B981",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"Current"})]}),e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-down-8532505.svg",alt:f==="base"?"Collapse":"Expand",style:{width:"20px",height:"20px",transform:f==="base"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]})}),f==="base"&&e.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid #E5E7EB",marginTop:"16px",paddingTop:"16px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{fontSize:"14px",color:"#111827",lineHeight:"1.6"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Base Plan Features:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"1 Channel (Upto 20 Initiated Calls/Hour) (Flexible time range) (8 Hour = 160 Initiated Calls Per day)"}),e.jsx("li",{children:"2 FREE numbers (+â‚¹800/mo rental for new number)"}),e.jsx("li",{children:"Unlimited Sentiment Tagging"}),e.jsx("li",{children:"0 FREE write with AI credits (pay per use)"}),e.jsx("li",{children:"0 FREE Chat Completions Of Edit Script Per day (pay per use)"}),e.jsx("li",{children:"0 Times Voice Cloning Limit (pay per use)"}),e.jsx("li",{children:"50 GB cloud storage/mo for Recordings FREE"})]})]}),e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #E5E7EB"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"8px"},children:"Usage From Wallet (Cuts according to wallet):"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"Chat Widget"}),e.jsx("li",{children:"Test Call Agent"}),e.jsx("li",{children:"Web Call"}),e.jsx("li",{children:"Real Call"})]})]})]})})]}),e.jsxs("div",{className:"profile-detail-box",style:{marginBottom:"16px"},children:[e.jsx("div",{className:"profile-detail-item",style:{cursor:"pointer",padding:"16px"},onClick:()=>Z(f==="pro"?null:"pro"),onMouseEnter:s=>s.currentTarget.style.background="#F9FAFB",onMouseLeave:s=>s.currentTarget.style.background="transparent",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/card-coin-8532167.svg",alt:"Pro",style:{width:"24px",height:"24px"}}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Pro Plan (â‚¹4,900/mo)"}),m==="pro"&&e.jsx("span",{style:{padding:"4px 8px",background:"#10B981",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"Current"})]}),e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-down-8532505.svg",alt:f==="pro"?"Collapse":"Expand",style:{width:"20px",height:"20px",transform:f==="pro"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]})}),f==="pro"&&e.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid #E5E7EB",marginTop:"16px",paddingTop:"16px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{fontSize:"14px",color:"#111827",lineHeight:"1.6"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Pro Plan Features (3x Base):"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"2 Channels (Upto 60 Initiated Calls/Hour) (Flexible time range) (8 Hour = 480 Initiated Calls Per day)"}),e.jsx("li",{children:"6 FREE numbers (+â‚¹650/mo rental for new number)"}),e.jsx("li",{children:"Unlimited Sentiment Tagging"}),e.jsx("li",{children:"24 FREE write with AI credits (scripting) (3x Base)"}),e.jsx("li",{children:"30 FREE Chat Completions Of Edit Script Per day (3x Base)"}),e.jsx("li",{children:"6 Times Voice Cloning Limit (3x Base)"}),e.jsx("li",{children:"150 GB cloud storage/mo for Recordings FREE"})]})]}),e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #E5E7EB"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"8px"},children:"Usage From Wallet (Cuts according to wallet):"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"Chat Widget"}),e.jsx("li",{children:"Test Call Agent"}),e.jsx("li",{children:"Web Call"}),e.jsx("li",{children:"Real Call"})]})]})]})})]}),e.jsxs("div",{className:"profile-detail-box",style:{marginBottom:"16px"},children:[e.jsx("div",{className:"profile-detail-item",style:{cursor:"pointer",padding:"16px"},onClick:()=>Z(f==="pro-plus"?null:"pro-plus"),onMouseEnter:s=>s.currentTarget.style.background="#F9FAFB",onMouseLeave:s=>s.currentTarget.style.background="transparent",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/card-coin-8532167.svg",alt:"Pro Plus",style:{width:"24px",height:"24px"}}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Pro Plus Plan (10 Channels)"}),m==="pro-plus"&&e.jsx("span",{style:{padding:"4px 8px",background:"#10B981",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"Current"})]}),e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-down-8532505.svg",alt:f==="pro-plus"?"Collapse":"Expand",style:{width:"20px",height:"20px",transform:f==="pro-plus"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]})}),f==="pro-plus"&&e.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid #E5E7EB",marginTop:"16px",paddingTop:"16px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{fontSize:"14px",color:"#111827",lineHeight:"1.6"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Pro Plus Plan Features (10x Base):"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"10 Channels (Upto 200 Initiated Calls/Hour) (Flexible time range) (8 Hour = 1600 Initiated Calls Per day)"}),e.jsx("li",{children:"20 FREE numbers (+â‚¹590/mo rental for new number)"}),e.jsx("li",{children:"Unlimited Sentiment Tagging"}),e.jsx("li",{children:"80 FREE write with AI credits (scripting) (10x Base)"}),e.jsx("li",{children:"100 FREE Chat Completions Of Edit Script Per day (10x Base)"}),e.jsx("li",{children:"Unlimited Voice Cloning"}),e.jsx("li",{children:"250 GB cloud storage/mo for Recordings FREE"})]})]}),e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #E5E7EB"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"8px"},children:"Usage From Wallet (Cuts according to wallet):"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"Chat Widget"}),e.jsx("li",{children:"Test Call Agent"}),e.jsx("li",{children:"Web Call"}),e.jsx("li",{children:"Real Call"})]})]})]})})]}),e.jsxs("div",{className:"profile-detail-box",style:{marginBottom:"16px"},children:[e.jsx("div",{className:"profile-detail-item",style:{cursor:"pointer",padding:"16px"},onClick:()=>Z(f==="enterprise"?null:"enterprise"),onMouseEnter:s=>s.currentTarget.style.background="#F9FAFB",onMouseLeave:s=>s.currentTarget.style.background="transparent",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/card-coin-8532167.svg",alt:"Enterprise",style:{width:"24px",height:"24px"}}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Enterprise Plan (Custom)"}),m==="enterprise"&&e.jsx("span",{style:{padding:"4px 8px",background:"#10B981",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"Current"})]}),e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-down-8532505.svg",alt:f==="enterprise"?"Collapse":"Expand",style:{width:"20px",height:"20px",transform:f==="enterprise"?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]})}),f==="enterprise"&&e.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid #E5E7EB",marginTop:"16px",paddingTop:"16px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{fontSize:"14px",color:"#111827",lineHeight:"1.6"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Enterprise Plan Features:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"Custom Channel Configuration"}),e.jsx("li",{children:"Custom numbers (Contact for pricing)"}),e.jsx("li",{children:"Unlimited Sentiment Tagging"}),e.jsx("li",{children:"Unlimited write with AI credits (scripting)"}),e.jsx("li",{children:"Unlimited Chat Completions Of Edit Script"}),e.jsx("li",{children:"Unlimited Voice Cloning"}),e.jsx("li",{children:"Priority Support"}),e.jsx("li",{children:"Custom Integration Options"})]})]}),e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #E5E7EB"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"8px"},children:"Usage From Wallet (Cuts according to wallet):"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151"},children:[e.jsx("li",{children:"Chat Widget"}),e.jsx("li",{children:"Test Call Agent"}),e.jsx("li",{children:"Web Call"}),e.jsx("li",{children:"Real Call"})]})]})]})})]})]}),e.jsxs("div",{className:"profile-detail-section",style:{marginTop:"32px"},children:[e.jsx("h3",{className:"profile-detail-subheading",style:{marginBottom:"16px"},children:"Usage Tracking"}),e.jsxs("div",{className:"profile-detail-box",style:{marginBottom:"16px"},children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Filter by Date"})}),e.jsxs("div",{className:"profile-detail-action",style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("button",{type:"button",onClick:()=>{Fe("today"),Se("today")},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #D1D5DB",background:b==="today"?"#4B5CFF":"white",color:b==="today"?"white":"#374151",fontSize:"14px",cursor:"pointer",fontWeight:b==="today"?"600":"400"},children:"Today"}),e.jsx("button",{type:"button",onClick:()=>{Fe("lifetime"),Se("lifetime")},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #D1D5DB",background:b==="lifetime"?"#4B5CFF":"white",color:b==="lifetime"?"white":"#374151",fontSize:"14px",cursor:"pointer",fontWeight:b==="lifetime"?"600":"400"},children:"Lifetime"}),e.jsx("button",{type:"button",onClick:()=>Fe("custom"),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #D1D5DB",background:b==="custom"?"#4B5CFF":"white",color:b==="custom"?"white":"#374151",fontSize:"14px",cursor:"pointer",fontWeight:b==="custom"?"600":"400"},children:"Custom"})]})]}),b==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Start Date"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"date",className:"profile-detail-input",value:Ze,onChange:s=>Rs(s.target.value)})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"End Date"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"date",className:"profile-detail-input",value:Xe,onChange:s=>Bs(s.target.value)})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("button",{type:"button",onClick:()=>Se("custom",Ze,Xe),className:"profile-edit-button",style:{width:"auto",padding:"8px 16px"},children:"Apply Filter"})})]})]})]}),Ps?e.jsx("div",{className:"profile-detail-box",style:{padding:"24px",textAlign:"center",color:"#6B7280"},children:"Loading usage data..."}):j?e.jsxs(e.Fragment,{children:[(()=>{const s={base:{writeAI:0,chatCompletions:0,voiceCloning:0},pro:{writeAI:24,chatCompletions:30,voiceCloning:6},"pro-plus":{writeAI:80,chatCompletions:100,voiceCloning:1/0},enterprise:{writeAI:1/0,chatCompletions:1/0,voiceCloning:1/0}},i=s[m]||s.base;return i.writeAI===1/0||Math.max(0,i.writeAI-j.totals.writeAI),i.chatCompletions===1/0||Math.max(0,i.chatCompletions-j.totals.chatCompletions),i.voiceCloning===1/0||Math.max(0,i.voiceCloning-j.totals.voiceCloning),null})(),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{style:{padding:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Write with AI"}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#111827"},children:(()=>{const i={base:0,pro:24,"pro-plus":80,enterprise:1/0}[m]||0;return i===1/0?"Unlimited":Math.max(0,i-j.totals.writeAI)})()}),e.jsxs("div",{style:{fontSize:"14px",color:"#9CA3AF"},children:["/ ",(()=>{const s={base:0,pro:24,"pro-plus":80,enterprise:1/0};return(s[m]||0)===1/0?"Unlimited":s[m]||0})()," left"]})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:["Used: ",j.totals.writeAI," ",b==="today"?"today":b==="lifetime"?"lifetime":"this period"]})]})}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{style:{padding:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Chat Completions"}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#111827"},children:(()=>{const i={base:10,pro:30,"pro-plus":100,enterprise:1/0}[m]||10;return i===1/0?"Unlimited":Math.max(0,i-j.totals.chatCompletions)})()}),e.jsxs("div",{style:{fontSize:"14px",color:"#9CA3AF"},children:["/ ",(()=>{const s={base:0,pro:30,"pro-plus":100,enterprise:1/0};return(s[m]||0)===1/0?"Unlimited":s[m]||0})()," left"]})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:["Used: ",j.totals.chatCompletions," ",b==="today"?"today":b==="lifetime"?"lifetime":"this period"]})]})}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{style:{padding:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Voice Cloning"}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#111827"},children:(()=>{const i={base:2,pro:6,"pro-plus":1/0,enterprise:1/0}[m]||2;return i===1/0?"Unlimited":Math.max(0,i-j.totals.voiceCloning)})()}),e.jsxs("div",{style:{fontSize:"14px",color:"#9CA3AF"},children:["/ ",(()=>{const s={base:0,pro:6,"pro-plus":1/0,enterprise:1/0};return(s[m]||0)===1/0?"Unlimited":s[m]||0})()," left"]})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:["Used: ",j.totals.voiceCloning," ",b==="today"?"today":b==="lifetime"?"lifetime":"this period"]})]})})]}),j.allWriteAIUsages&&j.allWriteAIUsages.length>0&&e.jsxs("div",{className:"profile-detail-box",style:{marginBottom:"16px"},children:[e.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #E5E7EB"},children:[e.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Write with AI Usage Details"}),e.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"0"},children:"Shows each write with AI action with script name and time"})]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:j.allWriteAIUsages.map((s,i)=>e.jsx("div",{style:{padding:"12px 16px",borderBottom:i<j.allWriteAIUsages.length-1?"1px solid #F3F4F6":"none"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"16px"},children:[e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"4px"},children:s.scriptName}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:["Time: ",new Date(s.createdAt).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#9CA3AF",marginTop:"2px"},children:["Action: ",s.service==="claude_script_generation"?"Generate Script":"Rewrite Script"]})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",textAlign:"right",minWidth:"80px"},children:[s.tokensUsed.toLocaleString()," tokens"]})]})},s.id))})]}),j.dailyStats&&j.dailyStats.length>0&&e.jsxs("div",{className:"profile-detail-box",children:[e.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #E5E7EB"},children:e.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Daily Breakdown"})}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:j.dailyStats.map((s,i)=>e.jsxs("div",{style:{padding:"12px 16px",borderBottom:i<j.dailyStats.length-1?"1px solid #F3F4F6":"none"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:new Date(s.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",fontSize:"12px",color:"#6B7280"},children:[e.jsxs("div",{children:["Write with AI: ",s.writeAI]}),e.jsxs("div",{children:["Chat Completions: ",s.chatCompletions]}),e.jsxs("div",{children:["Voice Cloning: ",s.voiceCloning]})]})]},s.date))})]})]}):e.jsx("div",{className:"profile-detail-box",style:{padding:"24px",textAlign:"center",color:"#6B7280"},children:"No usage data available"})]})]}),d==="channel-status"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Channel Status"}),(()=>{const s=m==="base"?1:m==="pro"?2:m==="pro-plus"?10:1,i=m==="base"?20:m==="pro"?60:m==="pro-plus"?200:20;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"profile-detail-section",children:e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Assigned Channels"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:s})})]})})}),e.jsx("div",{className:"profile-detail-section",style:{marginTop:"24px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Shopify Orders Per Hour"}),e.jsx("span",{className:"profile-detail-hint",children:"Average orders received per hour (last 24 hours)"})]}),e.jsx("div",{className:"profile-detail-action",style:{marginTop:"12px"},children:e.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",textAlign:"center",padding:"16px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:Is.shopifyOrdersPerHour||0})})]})}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Calling Limit Per Hour"}),e.jsx("span",{className:"profile-detail-hint",children:"Initiated calls limit per hour"})]}),e.jsx("div",{className:"profile-detail-action",style:{marginTop:"12px"},children:e.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",textAlign:"center",padding:"16px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:i})})]})})]})}),e.jsx("div",{className:"profile-detail-section",style:{marginTop:"24px"},children:e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Frequently Asked Questions"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{question:"What is a Channel?",answer:"A channel lets you make phone calls at the same time. Think of it like lanes on a road. One channel means one call at a time. More channels mean more calls happening together."},{question:"What is Calling Limit Per Hour?",answer:"This is the biggest number of calls you can start in one hour. Your plan decides this number. It helps make sure everything works well."},{question:"How does Channel Speed work?",answer:"Channel speed means how fast you can start calls. If you have more channels, you can start more calls in one hour. This makes your calling faster."},{question:"How many channels do I have?",answer:"Look at the number shown above. It depends on your plan. Base plan gives 1 channel. Pro plan gives 2 channels. Pro Plus plan gives 10 channels."}].map((t,o)=>e.jsxs("div",{style:{border:"1px solid #E5E7EB",borderRadius:"8px",overflow:"hidden",transition:"all 0.3s ease"},children:[e.jsxs("button",{onClick:()=>Ts(ge===o?null:o),style:{width:"100%",padding:"16px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",fontWeight:"600",color:"#111827"},children:[e.jsx("span",{children:t.question}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:ge===o?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease",flexShrink:0,marginLeft:"12px"},children:e.jsx("path",{d:"M6 9L12 15L18 9"})})]}),e.jsx("div",{style:{maxHeight:ge===o?"500px":"0",overflow:"hidden",transition:"max-height 0.3s ease",padding:ge===o?"0 16px 16px 16px":"0 16px",fontSize:"14px",color:"#6B7280",lineHeight:"1.6"},children:t.answer})]},o))})]})})})]})})()]}),d==="custom-campaign-rules"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Custom Campaign Rules"}),e.jsx("div",{className:"profile-detail-section",children:e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#6B7280",fontSize:"14px",lineHeight:"1.6"},children:[e.jsx("p",{style:{marginBottom:"12px",fontWeight:"500",color:"#111827"},children:"Campaign-specific rules are managed within each campaign"}),e.jsxs("p",{children:["To set up custom rules for a specific campaign, navigate to that campaign's page and click the settings icon in the header.",e.jsx("br",{}),"There you can load unique outcomes for that campaign and map them to auto-call with retry settings."]})]})})})]}),d==="app-info"&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"App Info"}),e.jsx("div",{className:"profile-detail-section",children:e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Search Documentation"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("div",{style:{position:"relative",width:"100%"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/search-normal-8532441.svg",alt:"Search",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",opacity:.5}}),e.jsx("input",{type:"text",className:"profile-detail-input",placeholder:"Search documentation...",value:xe,onChange:s=>Ye(s.target.value),style:{paddingLeft:"40px"}})]})})]})})}),e.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"32px"},children:[e.jsxs("div",{className:"profile-detail-box",style:{minWidth:"200px",flexShrink:0,padding:"20px"},children:[e.jsx("h3",{className:"profile-detail-subheading",style:{marginBottom:"16px",fontSize:"14px"},children:"Topics"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.keys(X).map(s=>e.jsx("button",{onClick:()=>{Cs(s),Ye("")},style:{padding:"10px 12px",textAlign:"left",background:D===s?"#F3F4F6":"transparent",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:D===s?"600":"400",color:D===s?"#111827":"#6B7280",cursor:"pointer",transition:"all 0.15s"},onMouseEnter:i=>{D!==s&&(i.currentTarget.style.background="#F9FAFB")},onMouseLeave:i=>{D!==s&&(i.currentTarget.style.background="transparent")},children:X[s].title},s))})]}),e.jsxs("div",{className:"profile-detail-box",style:{flex:1,padding:"24px"},children:[e.jsx("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:"600",color:"#111827"},children:X[D]?.title||""}),e.jsx("div",{style:{lineHeight:"1.6",color:"#374151"},children:As.split(`
`).map((s,i)=>s.startsWith("**")&&s.endsWith("**")?e.jsx("p",{style:{fontWeight:600,color:"#1F2937",marginBottom:"12px"},children:s.slice(2,-2)},i):s.startsWith("â€¢")?e.jsx("li",{style:{marginBottom:"8px",marginLeft:"20px"},children:s.substring(1).trim()},i):s.trim()===""?e.jsx("br",{},i):e.jsx("p",{style:{marginBottom:"12px",lineHeight:"1.6",color:"#374151"},children:s},i))})]})]})]}),d==="customer-support"&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Customer Support"}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Contact Information"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Name"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:"Hassan Shafqat"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Role"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:"Customer Support Representative"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Email"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:"contact@scalysis.com"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Phone Number"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:"9682165725"})})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Widget Settings"}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Show Widget"}),e.jsx("span",{className:"profile-detail-hint",children:"Show the floating widget in the bottom right corner"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("label",{className:"profile-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:ws,onChange:s=>{const i=s.target.checked;Ss(i),localStorage.setItem("floatingWidgetVisible",String(i)),window.dispatchEvent(new Event("floatingWidgetVisibilityChanged"))}}),e.jsx("span",{className:"profile-toggle-slider"})]})})]})})]})]}),d==="ndr-integration"&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"NDR Integration"}),We?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"profile-detail-section",children:e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Provider"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsxs("button",{onClick:()=>Ue(null),className:"profile-back-button",style:{margin:0,padding:"6px 12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Change Provider"]})})]})})}),We==="nimbuspost"&&e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"NimbusPost Connection"}),e.jsx("div",{className:"profile-detail-box",children:ve?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Status"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{style:{color:"#10B981",fontWeight:"500"},children:"Connected"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Email"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:k.email})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("button",{className:"profile-save-button-new",onClick:ps,style:{background:"#DC2626"},children:"Disconnect"})})]})]}):e.jsxs(e.Fragment,{children:[Ne&&e.jsx("div",{style:{padding:"12px",background:"#FEE2E2",color:"#DC2626",borderRadius:"6px",marginBottom:"16px",fontSize:"14px"},children:Ne}),e.jsxs("form",{onSubmit:ds,children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Email"}),e.jsx("span",{className:"profile-detail-hint",children:"Enter your NimbusPost account email"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"email",className:"profile-detail-input",placeholder:"Enter your NimbusPost email",value:k.email,onChange:s=>_({...k,email:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Password"}),e.jsx("span",{className:"profile-detail-hint",children:"Enter your NimbusPost account password"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"password",className:"profile-detail-input",placeholder:"Enter your password",value:k.password,onChange:s=>_({...k,password:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("button",{type:"submit",className:"profile-save-button-new",disabled:ye,children:ye?"Connecting...":"Connect NimbusPost"})})]})]})]})})]}),We==="shiprocket"&&e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Shiprocket Connection"}),e.jsx("div",{className:"profile-detail-box",children:be?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Status"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{style:{color:"#10B981",fontWeight:"500"},children:"Connected"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Email"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:I.email})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("button",{className:"profile-save-button-new",onClick:hs,style:{background:"#DC2626"},children:"Disconnect"})})]})]}):e.jsxs(e.Fragment,{children:[we&&e.jsx("div",{style:{padding:"12px",background:"#FEE2E2",color:"#DC2626",borderRadius:"6px",marginBottom:"16px",fontSize:"14px"},children:we}),e.jsxs("form",{onSubmit:ms,children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Email"}),e.jsx("span",{className:"profile-detail-hint",children:"Enter your Shiprocket account email"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"email",className:"profile-detail-input",placeholder:"Enter your Shiprocket email",value:I.email,onChange:s=>Q({...I,email:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Password"}),e.jsx("span",{className:"profile-detail-hint",children:"Enter your Shiprocket account password"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"password",className:"profile-detail-input",placeholder:"Enter your password",value:I.password,onChange:s=>Q({...I,password:s.target.value}),required:!0})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("button",{type:"submit",className:"profile-save-button-new",disabled:Ce,children:Ce?"Connecting...":"Connect Shiprocket"})})]})]})]})})]})]}):e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Select Provider"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[e.jsxs("div",{className:"profile-detail-box",onClick:()=>Ue("nimbuspost"),style:{cursor:"pointer",padding:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/link-8535459.svg",alt:"NimbusPost",style:{width:"32px",height:"32px"}}),e.jsx("h4",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#111827"},children:"NimbusPost"})]}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#6b7280"},children:"Connect your NimbusPost account"})]}),e.jsxs("div",{className:"profile-detail-box",onClick:()=>Ue("shiprocket"),style:{cursor:"pointer",padding:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/link-8535459.svg",alt:"Shiprocket",style:{width:"32px",height:"32px"}}),e.jsx("h4",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#111827"},children:"Shiprocket"})]}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#6b7280"},children:"Connect your Shiprocket account"})]})]})]})]}),d==="nimbuspost"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"settings-page-title",children:"NimbusPost NDR Integration"}),e.jsxs("div",{className:"settings-section",children:[e.jsx("p",{className:"section-subtitle",children:"Connect your NimbusPost shipping aggregator account to manage NDR list"}),e.jsxs("div",{className:"integration-card",children:[e.jsxs("div",{className:"integration-header",children:[e.jsxs("div",{className:"integration-title",children:[e.jsx("div",{className:"integration-logo",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("span",{children:"NimbusPost"})]}),e.jsx("div",{className:`status-badge ${ve?"status-connected":"status-not-connected"}`,children:ve?"Connected":"Not Connected"})]}),e.jsx("p",{className:"integration-description",children:"Connect your NimbusPost shipping aggregator account to access and manage your NDR (Non-Delivery Report) list. Create credentials from your NimbusPost account and enter them below."}),ve?e.jsxs("div",{className:"connected-info",children:[e.jsx("div",{className:"connected-info-title",children:"âœ… Connected"}),e.jsxs("div",{className:"connected-info-detail",children:["Email: ",k.email]}),e.jsx("button",{className:"btn btn-secondary disconnect-btn",onClick:ps,children:"Disconnect"})]}):e.jsxs("div",{className:"connection-form",children:[Ne&&e.jsx("div",{className:"error-message",children:Ne}),e.jsxs("form",{onSubmit:ds,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"nimbuspostEmail",children:"Email"}),e.jsx("input",{type:"email",id:"nimbuspostEmail",name:"email",className:"form-input",placeholder:"Enter your NimbusPost email",value:k.email,onChange:s=>_({...k,email:s.target.value}),required:!0}),e.jsx("div",{className:"form-hint",children:"Enter your NimbusPost account email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"nimbuspostPassword",children:"Password"}),e.jsx("input",{type:"password",id:"nimbuspostPassword",name:"password",className:"form-input",placeholder:"Enter your password",value:k.password,onChange:s=>_({...k,password:s.target.value}),required:!0}),e.jsx("div",{className:"form-hint",children:"Enter your NimbusPost account password"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ye,children:ye?"Connecting...":"Connect NimbusPost"})]})]})]})]})]}),d==="shiprocket"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"settings-page-title",children:"Shiprocket NDR Integration"}),e.jsxs("div",{className:"settings-section",children:[e.jsx("p",{className:"section-subtitle",children:"Connect your Shiprocket shipping aggregator account to manage NDR list"}),e.jsxs("div",{className:"integration-card",children:[e.jsxs("div",{className:"integration-header",children:[e.jsxs("div",{className:"integration-title",children:[e.jsx("div",{className:"integration-logo",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M21 16V8C21 7.46957 20.7893 6.96086 20.4142 6.58579C20.0391 6.21071 19.5304 6 19 6H5C4.46957 6 3.96086 6.21071 3.58579 6.58579C3.21071 6.96086 3 7.46957 3 8V16C3 16.5304 3.21071 17.0391 3.58579 17.4142C3.96086 17.7893 4.46957 18 5 18H19C19.5304 18 20.0391 17.7893 20.4142 17.4142C20.7893 17.0391 21 16.5304 21 16Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3 10H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M7 14H7.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("span",{children:"Shiprocket"})]}),e.jsx("div",{className:`status-badge ${be?"status-connected":"status-not-connected"}`,children:be?"Connected":"Not Connected"})]}),e.jsx("p",{className:"integration-description",children:"Connect your Shiprocket shipping aggregator account to access and manage your NDR (Non-Delivery Report) list. Create credentials from your Shiprocket account and enter them below."}),be?e.jsxs("div",{className:"connected-info",children:[e.jsx("div",{className:"connected-info-title",children:"âœ… Connected"}),e.jsxs("div",{className:"connected-info-detail",children:["Email: ",I.email]}),e.jsx("button",{className:"btn btn-secondary disconnect-btn",onClick:hs,children:"Disconnect"})]}):e.jsxs("div",{className:"connection-form",children:[we&&e.jsx("div",{className:"error-message",children:we}),e.jsxs("form",{onSubmit:ms,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"shiprocketEmail",children:"Email"}),e.jsx("input",{type:"email",id:"shiprocketEmail",name:"email",className:"form-input",placeholder:"Enter your Shiprocket email",value:I.email,onChange:s=>Q({...I,email:s.target.value}),required:!0}),e.jsx("div",{className:"form-hint",children:"Enter your Shiprocket account email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"shiprocketPassword",children:"Password"}),e.jsx("input",{type:"password",id:"shiprocketPassword",name:"password",className:"form-input",placeholder:"Enter your password",value:I.password,onChange:s=>Q({...I,password:s.target.value}),required:!0}),e.jsx("div",{className:"form-hint",children:"Enter your Shiprocket account password"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ce,children:Ce?"Connecting...":"Connect Shiprocket"})]})]})]})]})]}),d==="account-settings"&&l&&(()=>{const s=()=>!V||V.length===0?[]:V.map(p=>{const w=new Date(p.hour),ie=new Date(w.getTime()+3600*1e3),te=w.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),L=ie.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),Y=p.count||0;return{timing:`${te} - ${L}`,pickupRate:"N/A",conversionRate:"N/A",callCount:Y}}),i=()=>!V||V.length===0?[{timing:"All Call Logs",pickupRate:"N/A",conversionRate:"N/A"}]:[{timing:"All Call Logs",pickupRate:"N/A",conversionRate:"N/A",callCount:V.reduce((w,ie)=>w+(ie.count||0),0)}],t=s(),o=i(),r=me==="time-based"?t:o,x=Math.ceil(r.length/Te),c=r.slice((G-1)*Te,G*Te),K=((p,w)=>{if(!p||p.length===0)return[0,0,0,0,0,0,0,0,0,0,0,0];const te=p.slice(-12).map(Y=>Y.count||0),L=Math.max(...te,1);return te.map(Y=>Y/L*100)})(V),E=Array(12).fill(O.inQueue/30*100).map(p=>Math.min(100,p)),P=K;return e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Account Settings"}),e.jsx("div",{className:"account-metrics-section",children:e.jsxs("div",{className:"account-metrics-grid",children:[e.jsxs("div",{className:"account-metric-card",children:[e.jsxs("div",{className:"account-metric-header",children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/health-8532162.svg",alt:"Health",className:"account-metric-icon"}),e.jsx("h3",{className:"account-metric-title",children:"Account Health"})]}),e.jsxs("div",{className:"account-metric-content",children:[pe?e.jsx("div",{style:{color:"#6B7280",fontSize:"14px"},children:"Loading..."}):e.jsx("div",{className:"account-metric-status",children:e.jsx("span",{className:`account-status-badge ${O.status==="active"?"active":(O.status==="inactive","inactive")}`,children:O.status==="active"?"Active":O.status==="inactive"?"Inactive":O.status||"Loading..."})}),e.jsx("div",{className:"account-metric-graph",children:e.jsx("svg",{width:"100%",height:"40",viewBox:"0 0 120 40",preserveAspectRatio:"none",children:e.jsx("polyline",{points:P.map((p,w)=>`${w*10},${40-p/100*40}`).join(" "),fill:"none",stroke:"#111827",strokeWidth:"2",strokeLinecap:"round"})})})]})]}),e.jsxs("div",{className:"account-metric-card",children:[e.jsxs("div",{className:"account-metric-header",children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/speedometer-8535820.svg",alt:"Speed",className:"account-metric-icon"}),e.jsx("h3",{className:"account-metric-title",children:"Speed Orders/hr"})]}),e.jsxs("div",{className:"account-metric-content",children:[pe?e.jsx("div",{style:{color:"#6B7280",fontSize:"14px"},children:"Loading..."}):e.jsxs("div",{className:"account-metric-value",children:[e.jsx("span",{className:"account-metric-number",children:O.speedOrdersPerHour}),e.jsx("span",{className:"account-metric-unit",children:"orders/hr"})]}),e.jsx("div",{className:"account-metric-graph",children:e.jsx("svg",{width:"100%",height:"40",viewBox:"0 0 120 40",preserveAspectRatio:"none",children:e.jsx("polyline",{points:K.map((p,w)=>`${w*10},${40-p/20*40}`).join(" "),fill:"none",stroke:"#111827",strokeWidth:"2",strokeLinecap:"round"})})})]})]}),e.jsxs("div",{className:"account-metric-card",children:[e.jsxs("div",{className:"account-metric-header",children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/activity-8532257.svg",alt:"Queue",className:"account-metric-icon"}),e.jsx("h3",{className:"account-metric-title",children:"In Queue"})]}),e.jsxs("div",{className:"account-metric-content",children:[pe?e.jsx("div",{style:{color:"#6B7280",fontSize:"14px"},children:"Loading..."}):e.jsxs("div",{className:"account-metric-value",children:[e.jsx("span",{className:"account-metric-number",children:O.inQueue}),e.jsx("span",{className:"account-metric-unit",children:"items"})]}),e.jsx("div",{className:"account-metric-graph",children:e.jsx("svg",{width:"100%",height:"40",viewBox:"0 0 120 40",preserveAspectRatio:"none",children:e.jsx("polyline",{points:E.map((p,w)=>`${w*10},${40-p/30*40}`).join(" "),fill:"none",stroke:"#111827",strokeWidth:"2",strokeLinecap:"round"})})})]})]})]})}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsxs("div",{className:"account-logs-header",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Call Logs"}),e.jsxs("div",{className:"account-logs-toggle",children:[e.jsx("button",{className:`account-logs-toggle-btn ${me==="time-based"?"active":""}`,onClick:()=>{Qe("time-based"),he(1)},children:"Time Based"}),e.jsx("button",{className:`account-logs-toggle-btn ${me==="calls-based"?"active":""}`,onClick:()=>{Qe("calls-based"),he(1)},children:"Calls Based"})]})]}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("table",{className:"account-logs-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Timing"}),e.jsx("th",{children:"Calls"}),e.jsx("th",{children:"Conversion Rate"})]})}),e.jsx("tbody",{children:pe?e.jsx("tr",{children:e.jsx("td",{colSpan:"3",style:{textAlign:"center",padding:"24px",color:"#6B7280"},children:"Loading..."})}):c.length>0?c.map((p,w)=>e.jsxs("tr",{children:[e.jsx("td",{children:p.timing}),e.jsx("td",{children:p.callCount!==void 0?`${p.callCount} calls`:p.pickupRate}),e.jsx("td",{children:p.conversionRate})]},w)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",style:{textAlign:"center",padding:"24px",color:"#6B7280"},children:"No logs available"})})})]}),e.jsxs("div",{className:"account-logs-footer",children:[x>1&&e.jsxs("div",{className:"account-logs-pagination",children:[e.jsxs("button",{className:"account-pagination-btn",onClick:()=>he(Math.max(1,G-1)),disabled:G===1,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Previous"}),"Previous"]}),e.jsxs("span",{className:"account-pagination-info",children:["Page ",G," of ",x]}),e.jsxs("button",{className:"account-pagination-btn",onClick:()=>he(Math.min(x,G+1)),disabled:G===x,children:["Next",e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-right-8532512.svg",alt:"Next"})]})]}),e.jsx("div",{className:"account-logs-export",children:e.jsxs("button",{className:"account-export-btn",onClick:()=>{const p=["Timing","Calls","Conversion Rate"],w=r.map($=>[$.timing,$.callCount!==void 0?$.callCount:$.pickupRate,$.conversionRate]),ie=[p.join(","),...w.map($=>$.join(","))].join(`
`),te=new Blob([ie],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),Y=URL.createObjectURL(te);L.setAttribute("href",Y),L.setAttribute("download",`call-logs-${me}-${new Date().toISOString().split("T")[0]}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/export-8532464.svg",alt:"Export"}),"Export CSV"]})})]})]})]})]})})(),d==="knowledge-books"&&l&&e.jsxs("div",{className:"profile-page-container",children:[e.jsx("div",{className:"profile-page-header",children:e.jsxs("button",{className:"profile-back-button",onClick:N,children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/arrow-left-8532508.svg",alt:"Back"}),"Back to Settings"]})}),e.jsx("h2",{className:"profile-page-title",children:"Knowledge Books"}),!Pe&&e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"24px"},children:e.jsxs("button",{onClick:()=>{ce(null),F({name:"",description:"",content:"",websiteLink:"",extraContent:""}),re(!0)},className:"profile-save-button-new",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/add-8535609.svg",alt:"Add",style:{width:"16px",height:"16px",filter:"brightness(0) invert(1)"}}),"Create Knowledge Book"]})}),Pe&&e.jsxs("form",{onSubmit:Qs,children:[e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:ae?"Edit Knowledge Book":"Create Knowledge Book"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Name *"}),e.jsx("span",{className:"profile-detail-hint",children:"e.g., Product Catalog, Brand Guidelines"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:v.name,onChange:s=>F({...v,name:s.target.value}),required:!0,placeholder:"Enter knowledge book name"})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Description"}),e.jsx("span",{className:"profile-detail-hint",children:"Brief description of this knowledge book"})]}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("input",{type:"text",className:"profile-detail-input",value:v.description,onChange:s=>F({...v,description:s.target.value}),placeholder:"Enter description"})})]})]})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Website Link"}),e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{className:"profile-detail-item",children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Brand/Website Link"}),e.jsx("span",{className:"profile-detail-hint",children:"Enter your website URL and click Fetch to automatically extract brand information using AI"})]}),e.jsxs("div",{className:"profile-detail-action",style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"url",className:"profile-detail-input",value:v.websiteLink,onChange:s=>F({...v,websiteLink:s.target.value}),placeholder:"https://example.com",style:{flex:1}}),e.jsx("button",{type:"button",onClick:Js,disabled:Re||!v.websiteLink.trim(),className:"profile-save-button-new",style:{whiteSpace:"nowrap",opacity:Re||!v.websiteLink.trim()?.6:1},children:Re?"Fetching...":"Fetch"})]})]})})]}),e.jsxs("div",{className:"profile-detail-section",children:[e.jsx("h3",{className:"profile-detail-subheading",children:"Content"}),e.jsxs("div",{className:"profile-detail-box",children:[e.jsxs("div",{className:"profile-detail-item",style:{alignItems:"flex-start",padding:"16px 20px"},children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Content (Fetched From Website) *"}),e.jsx("span",{className:"profile-detail-hint",children:"Or you can add manually too if no website"})]}),e.jsx("div",{className:"profile-detail-action",style:{flex:1,maxWidth:"60%"},children:e.jsx("textarea",{rows:"10",className:"profile-detail-input",value:v.content,onChange:s=>F({...v,content:s.target.value}),required:!0,placeholder:"Enter knowledge book content...",style:{width:"100%",resize:"vertical",minHeight:"200px"}})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",style:{alignItems:"flex-start",padding:"16px 20px"},children:[e.jsxs("div",{className:"profile-detail-label",children:[e.jsx("span",{children:"Add FAQs, Information.."}),e.jsx("span",{className:"profile-detail-hint",children:"Optional: Add supplementary information, FAQs, or specific guidelines"})]}),e.jsx("div",{className:"profile-detail-action",style:{flex:1,maxWidth:"60%"},children:e.jsx("textarea",{rows:"6",className:"profile-detail-input",value:v.extraContent,onChange:s=>F({...v,extraContent:s.target.value}),placeholder:"Add any additional details...",style:{width:"100%",resize:"vertical",minHeight:"120px"}})})]})]})]}),e.jsx("div",{className:"profile-save-container",children:e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",onClick:()=>{re(!1),ce(null),F({name:"",description:"",content:"",websiteLink:"",extraContent:""})},className:"profile-save-button-new",style:{background:"transparent",border:"1px solid #D1D5DB",color:"#111827"},children:"Cancel"}),e.jsx("button",{type:"submit",className:"profile-save-button-new",disabled:S,children:S?"Saving...":ae?"Update Knowledge Book":"Create Knowledge Book"})]})})]}),!Pe&&e.jsx(e.Fragment,{children:Ke.length===0?e.jsx("div",{className:"profile-detail-box",children:e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/book-8535533.svg",alt:"Book",style:{width:"48px",height:"48px",opacity:.5,marginBottom:"16px"}}),e.jsx("p",{children:"No knowledge books yet. Create one to get started."})]})}):Ke.map((s,i)=>e.jsxs("div",{className:"profile-detail-box",style:{marginTop:i>0?"32px":"0"},children:[e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Name"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:s.name})})]}),s.description&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Description"})}),e.jsx("div",{className:"profile-detail-action",children:e.jsx("span",{className:"profile-detail-value",children:s.description})})]})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",style:{alignItems:"flex-start"},children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{children:"Content Preview"})}),e.jsx("div",{className:"profile-detail-action",style:{flex:1,maxWidth:"60%"},children:e.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"6px",fontSize:"13px",color:"#374151",maxHeight:"150px",overflowY:"auto"},children:[s.content?.substring(0,200),s.content?.length>200?"...":""]})})]}),e.jsx("hr",{className:"profile-detail-divider"}),e.jsxs("div",{className:"profile-detail-item",children:[e.jsx("div",{className:"profile-detail-label",children:e.jsx("span",{})}),e.jsxs("div",{className:"profile-detail-action",style:{display:"flex",gap:"8px"},children:[e.jsxs("button",{onClick:()=>{ce(s.id),F({name:s.name,description:s.description||"",content:s.content||"",websiteLink:s.websiteLink||"",extraContent:s.extraContent||""}),re(!0)},className:"profile-save-button-new",style:{background:"transparent",border:"1px solid #D1D5DB",color:"#111827",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/edit-8535505.svg",alt:"Edit",style:{width:"16px",height:"16px"}}),"Edit"]}),e.jsxs("button",{onClick:()=>Ys(s.id),className:"profile-save-button-new",style:{background:"#DC2626",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("img",{src:"/images/Raycons Icons Pack (Community)/minus-cirlce-8535602-10.svg",alt:"Delete",style:{width:"16px",height:"16px",filter:"brightness(0) invert(1)"}}),"Delete"]})]})]})]},s.id))})]})]})};export{wi as default};
