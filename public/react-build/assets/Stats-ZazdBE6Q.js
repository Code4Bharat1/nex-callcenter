import{a as te,r as l,j as e}from"./index-B_YWOrie.js";import{api as O}from"./api-CYk9FEKy.js";import{L as z}from"./Loading-BvPCrw-b.js";import{p as ie}from"./transcriptParser-B0Eamk1c.js";/* empty css                        */import"./index-LMWlVbK9.js";/* empty css                */const xe=({shop:E})=>{const[$]=te(),d=E||$.get("shop"),[P,R]=l.useState(null),[re,W]=l.useState(null),[C,M]=l.useState([]),[F,y]=l.useState(!0),[S,w]=l.useState(null),f=()=>new Date().toISOString().split("T")[0],H=()=>{const s=new Date;return s.setDate(s.getDate()-1),s.toISOString().split("T")[0]},V=()=>{const s=new Date;return s.setDate(s.getDate()-6),s.toISOString().split("T")[0]},q=()=>{const s=new Date;return s.setDate(s.getDate()-29),s.toISOString().split("T")[0]},[m,p]=l.useState(f()),[h,x]=l.useState(f()),[v,k]=l.useState("today"),[Y,u]=l.useState(!1),[r,D]=l.useState(null),[g,_]=l.useState([]),[A,T]=l.useState(!1),N=s=>{k(s);const t=f();switch(s){case"today":p(t),x(t);break;case"yesterday":const i=H();p(i),x(i);break;case"last7days":p(V()),x(t);break;case"last30days":p(q()),x(t);break}},G=s=>{p(s),k("custom"),s>h&&x(s)},K=s=>{x(s),k("custom"),s<m&&p(s)};l.useEffect(()=>{if(!d){w("No shop parameter found"),y(!1);return}L()},[d,m,h]);const L=async()=>{try{y(!0),w(null);const[s,t]=await Promise.all([O.getDailyBillingStats(d,m,h),O.getBillingBreakdown(d,m,h)]);if(s.success&&s.stats&&R(s.stats),t.success&&t.breakdown){W(t.breakdown);const i=[];t.breakdown.dashboardCalls&&t.breakdown.dashboardCalls.forEach(a=>{i.push({...a,source:"Dashboard",type:"dashboard"})}),t.breakdown.csvUploads&&t.breakdown.csvUploads.forEach(a=>{a.calls&&a.calls.length>0&&a.calls.forEach(n=>{i.push({...n,source:a.filename,type:"csv"})})}),t.breakdown.tokenUsages&&t.breakdown.tokenUsages.forEach(a=>{let n="Token Usage";a.type==="plan_usage"?a.service==="write_with_ai"?n="Write with AI":a.service==="chat_completions"?n="Chat Completions":a.service==="voice_cloning"&&(n="Voice Cloning"):(a.type==="voice_preview"||a.service==="voice_preview_cartesia"||a.service==="voice_preview_sarvam")&&(n=`Voice Preview (${a.service==="voice_preview_sarvam"?"Sarvam":"Cartesia"})`),i.push({service:a.service,tokensUsed:a.tokensUsed||0,amountCharged:a.cost||0,cost:a.cost||0,billingDate:a.createdAt,timestamp:a.createdAt,source:n,type:a.type==="plan_usage"?"plan_usage":a.type==="voice_preview"?"voice_preview":"token",description:a.description,orderNumber:null,isIncluded:a.isIncluded||!1})}),i.sort((a,n)=>{const b=new Date(a.billingDate||a.timestamp||0);return new Date(n.billingDate||n.timestamp||0)-b}),M(i)}}catch(s){console.error("[Stats] Error loading data:",s),w(s.message||"Failed to load analytics data")}finally{y(!1)}},B=s=>{if(!s||s===0)return"0s";const t=Math.floor(s/60),i=s%60;return t>0?`${t}m ${i}s`:`${i}s`},j=s=>!s||s===0?"₹0.00":`₹${s.toFixed(2)}`,Q=s=>s?new Date(s).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",Z=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"})}catch{return"N/A"}},J=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}},I=s=>{if(!s)return"LLM Usage";const t={write_with_ai:"Write with AI",chat_completions:"Chat Completions",voice_cloning:"Voice Cloning",claude_script_generation:"Script Generation",claude_script_rewrite:"Script Rewrite",groq_chat:"Script Chat",voice_preview_cartesia:"Voice Preview (Cartesia)",voice_preview_sarvam:"Voice Preview (Sarvam)",groq_evaluation_agent_response:"Success",groq_test_agent_response:"Success",azure_evaluation_extract_rules:"Azure - Extract Rules",azure_evaluation_customer_response:"Azure - Evaluation (Customer)",azure_evaluation_conversation:"Azure - Evaluate Conversation",azure_script_refinement:"Azure - Script Refinement"};return t[s]?t[s]:s.toLowerCase().includes("groq")&&s.toLowerCase().includes("test")&&s.toLowerCase().includes("agent")?"Success":s.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")},X=s=>s?{pending:"Pending",queued:"Queued",calling:"Calling",completed:"Completed",failed:"Failed",no_answer:"No Answer"}[s.toLowerCase()]||s:"N/A",ee=async s=>{if(s){T(!0),u(!0);try{const t=await fetch(`/api/order-details?orderNumber=${encodeURIComponent(s)}&shop=${encodeURIComponent(d)}`,{credentials:"include"});if(t.ok){const i=await t.json();if(i.success)D(i.order),_(i.calls||[]);else throw new Error(i.error||"Failed to load order details")}else if(t.status===404){const i=await fetch(`/api/order-details?orderId=${encodeURIComponent(s)}&shop=${encodeURIComponent(d)}`,{credentials:"include"});if(!i.ok)throw new Error("Order not found");const a=await i.json();if(a.success)D(a.order),_(a.calls||[]);else throw new Error(a.error||"Failed to load order details")}else throw new Error(`HTTP ${t.status}`)}catch(t){console.error("[Stats] Error loading order details:",t),alert(`Failed to load order details: ${t.message||"Unknown error"}`),u(!1)}finally{T(!1)}}},se=s=>{if(s.type==="token")return{label:"LLM Usage",color:"#8b5cf6",bg:"#f3e8ff"};const t=s.durationSeconds||s.duration||0,i=s.callOutcome||s.outcome||"";return t>0?{label:"Connected",color:"#10b981",bg:"#ecfdf5"}:i.toLowerCase().includes("unanswered")||i.toLowerCase().includes("no_answer")?{label:"No Answer",color:"#f59e0b",bg:"#fef3c7"}:{label:"Failed",color:"#ef4444",bg:"#fef2f2"}};if(!d)return e.jsx("div",{className:"stats-container",children:e.jsx("div",{className:"error-message",children:e.jsx("p",{children:"No shop parameter found. Please select a shop."})})});if(F)return e.jsx("div",{className:"stats-container",children:e.jsx("div",{className:"loading-message",children:e.jsx(z,{size:"large",text:"Loading call analytics..."})})});const c=P||{},U=c.totalTokenCost||0,ae=(c.totalAmount||0)+U,o={callsConnected:c.totalConnectedCalls||0,callsInitiated:c.callsInitiated||c.totalCallsMade||0,totalTalkTime:c.totalDuration||0,pickupRate:c.pickupRate||0,totalBillingAmount:ae,tokenCost:U,tokensUsed:c.totalTokensUsed||0};return e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stats-header-compact",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Billing"}),e.jsx("p",{className:"stats-subtitle",children:"View detailed call history, token usage, and billing breakdown by day"})]}),e.jsxs("div",{className:"stats-header-actions",children:[e.jsxs("div",{className:"billing-date-presets",children:[e.jsx("button",{className:`billing-preset-btn ${v==="today"?"active":""}`,onClick:()=>N("today"),children:"Today"}),e.jsx("button",{className:`billing-preset-btn ${v==="yesterday"?"active":""}`,onClick:()=>N("yesterday"),children:"Yesterday"}),e.jsx("button",{className:`billing-preset-btn ${v==="last7days"?"active":""}`,onClick:()=>N("last7days"),children:"Last 7 days"}),e.jsx("button",{className:`billing-preset-btn ${v==="last30days"?"active":""}`,onClick:()=>N("last30days"),children:"Last 30 days"})]}),e.jsxs("div",{className:"billing-date-range",children:[e.jsxs("div",{className:"billing-date-input-group",children:[e.jsx("label",{className:"billing-date-label",children:"From"}),e.jsx("input",{type:"date",value:m,onChange:s=>G(s.target.value),max:h,className:"billing-date-input"})]}),e.jsx("div",{className:"billing-date-separator",children:"to"}),e.jsxs("div",{className:"billing-date-input-group",children:[e.jsx("label",{className:"billing-date-label",children:"To"}),e.jsx("input",{type:"date",value:h,onChange:s=>K(s.target.value),min:m,max:f(),className:"billing-date-input"})]})]}),e.jsx("button",{onClick:L,className:"refresh-btn-compact",children:"Load History"})]})]}),e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("div",{className:"metric-label",children:"Calls Connected"}),e.jsx("div",{className:"metric-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),e.jsx("div",{className:"metric-value",children:o.callsConnected})]}),e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("div",{className:"metric-label",children:"Calls Initiated"}),e.jsx("div",{className:"metric-icon",style:{background:"rgba(79, 70, 229, 0.1)",color:"#4f46e5"},children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})})]}),e.jsx("div",{className:"metric-value",children:o.callsInitiated})]}),e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("div",{className:"metric-label",children:"Total Talk Time"}),e.jsx("div",{className:"metric-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"#8b5cf6"},children:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})})]}),e.jsx("div",{className:"metric-value",children:B(o.totalTalkTime)})]}),e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("div",{className:"metric-label",children:"Pickup Rate"}),e.jsx("div",{className:"metric-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})})]}),e.jsxs("div",{className:"metric-value",children:[o.pickupRate,"%"]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("div",{className:"metric-label",children:"Total Billing Amount"}),e.jsx("div",{className:"metric-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6312 8.57174 12 9.5 12H14.5C15.4283 12 16.3185 12.3687 16.9749 13.0251C17.6312 13.6815 18 14.5717 18 15.5C18 16.4283 17.6312 17.3185 16.9749 17.9749C16.3185 18.6312 15.4283 19 14.5 19H6"})]})})]}),e.jsx("div",{className:"metric-value",children:j(o.totalBillingAmount)}),o.tokenCost>0&&e.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["(Calls: ",j(c.totalAmount||0)," + Tokens: ",j(o.tokenCost),")"]})]}),o.tokensUsed>0&&e.jsxs("div",{className:"metric-card",children:[e.jsxs("div",{className:"metric-header",children:[e.jsx("div",{className:"metric-label",children:"Tokens Used"}),e.jsx("div",{className:"metric-icon",style:{background:"rgba(236, 72, 153, 0.1)",color:"#ec4899"},children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})})]}),e.jsx("div",{className:"metric-value",children:o.tokensUsed.toLocaleString()}),e.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Cost: ",j(o.tokenCost)]})]})]}),e.jsxs("div",{className:"call-history-section",children:[e.jsxs("div",{className:"call-history-header",children:[e.jsx("h2",{className:"call-history-title",children:"Call Breakdown"}),e.jsx("div",{className:"call-history-subtitle",children:"Dashboard Calls"})]}),C.length===0?e.jsx("div",{className:"no-calls-message",children:e.jsx("p",{children:"No calls found for the selected date range."})}):e.jsx("div",{className:"calls-table-wrapper",children:e.jsxs("table",{className:"calls-table-premium",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"col-order",children:"Order Number"}),e.jsx("th",{className:"col-customer",children:"Customer Name / Service"}),e.jsx("th",{className:"col-phone",children:"Phone Number"}),e.jsx("th",{className:"col-duration",children:"Duration / Tokens"}),e.jsx("th",{className:"col-status",children:"Status"}),e.jsx("th",{className:"col-outcome",children:"Outcome"}),e.jsx("th",{className:"col-cost",children:"Cost"}),e.jsx("th",{className:"col-source",children:"Source"}),e.jsx("th",{className:"col-time",children:"Time"})]})}),e.jsx("tbody",{children:C.map((s,t)=>{const i=se(s),a=s.orderNumber;return e.jsxs("tr",{className:"call-row-premium",onClick:n=>{if(n.preventDefault(),n.stopPropagation(),a&&a!=="N/A"){const b=a.toString().replace(/^#/,"");ee(b)}},style:{cursor:a&&a!=="N/A"?"pointer":"default"},children:[e.jsx("td",{className:"cell-order",children:e.jsx("span",{className:"order-number-value",children:s.type==="token"||s.type==="plan_usage"?"—":`#${a||"N/A"}`})}),e.jsx("td",{className:"cell-customer",children:e.jsx("span",{className:"customer-name-value",children:s.type==="token"||s.type==="plan_usage"?s.description||I(s.service)||"LLM Usage":s.customerName||"N/A"})}),e.jsx("td",{className:"cell-phone",children:e.jsx("span",{className:"phone-value",children:s.phoneNumber||"N/A"})}),e.jsx("td",{className:"cell-duration",children:s.type==="token"||s.type==="plan_usage"?e.jsxs("span",{className:"duration-value",children:[s.tokensUsed?.toLocaleString()||0," tokens"]}):e.jsx("span",{className:"duration-value",children:B(s.durationSeconds||s.duration||0)})}),e.jsx("td",{className:"cell-status",children:e.jsx("span",{className:"status-badge-premium",style:{color:i.color,backgroundColor:i.bg},children:i.label})}),e.jsx("td",{className:"cell-outcome",children:e.jsx("span",{className:"outcome-value",children:s.type==="token"||s.type==="plan_usage"?I(s.service):s.callOutcome||s.outcome||"N/A"})}),e.jsx("td",{className:"cell-cost",children:e.jsx("span",{className:"cost-value",children:j(s.amountCharged||s.cost||0)})}),e.jsx("td",{className:"cell-source",children:e.jsx("span",{className:"source-value",children:s.source||"Dashboard"})}),e.jsx("td",{className:"cell-time",children:e.jsx("span",{className:"time-value",children:Q(s.billingDate||s.timestamp)})})]},t)})})]})})]}),S&&e.jsx("div",{className:"error-message",children:e.jsx("p",{children:S})}),Y&&e.jsx("div",{className:"campaigns-modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"campaigns-modal-content",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"campaigns-modal-header",children:[e.jsx("h3",{className:"campaigns-modal-title",children:A?"Loading...":`Order Details - ${r?.orderNumber?`#${r.orderNumber}`:"N/A"}`}),e.jsx("button",{className:"campaigns-modal-close",onClick:()=>u(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),A?e.jsx("div",{className:"order-details-loading",children:e.jsx(z,{size:"medium",text:"Loading order details..."})}):r&&e.jsxs("div",{className:"campaigns-modal-body",children:[e.jsxs("div",{className:"campaigns-info-section",children:[e.jsx("h4",{className:"campaigns-info-section-title",children:"Customer Information"}),e.jsxs("div",{className:"campaigns-info-grid-two-col",children:[e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Name"}),e.jsx("span",{className:"campaigns-info-value",children:r.customerName||"N/A"})]}),e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Phone"}),e.jsx("span",{className:"campaigns-info-value",children:r.customerPhone||"N/A"})]}),e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Email"}),e.jsx("span",{className:"campaigns-info-value",children:r.customerEmail||"N/A"})]})]})]}),e.jsx("div",{className:"campaigns-info-divider"}),e.jsxs("div",{className:"campaigns-info-section",children:[e.jsx("h4",{className:"campaigns-info-section-title",children:"Order Information"}),e.jsxs("div",{className:"campaigns-info-grid-two-col",children:[e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Order Number"}),e.jsx("span",{className:"campaigns-info-value",children:r.orderNumber?`#${r.orderNumber}`:"N/A"})]}),e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Amount"}),e.jsx("span",{className:"campaigns-info-value",children:r.totalPrice?`${r.totalPrice} ${r.currency||""}`.trim():"N/A"})]}),e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Date"}),e.jsx("span",{className:"campaigns-info-value",children:r.createdAt?J(r.createdAt):"N/A"})]}),e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Status"}),e.jsx("span",{className:"campaigns-info-value",children:X(r.callStatus)})]})]})]}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"campaigns-info-divider"}),e.jsxs("div",{className:"campaigns-info-section",children:[e.jsxs("h4",{className:"campaigns-info-section-title",children:["Call History (",g.length," ",g.length===1?"call":"calls",")"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:g.map((s,t)=>e.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"16px",background:"#f9fafb"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:600,color:"#111827",marginBottom:"4px"},children:["Call #",t+1]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("span",{children:Z(s.createdAt||s.startedAt)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Duration: ",s.callDuration?s.callDuration+"s":"N/A"]})]})]}),e.jsx("span",{style:{fontSize:"12px",color:"#374151",fontWeight:500},children:s.callStatus||"Unknown"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px 24px",marginTop:"12px"},children:[r.script&&e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Script"}),e.jsx("span",{className:"campaigns-info-value",children:r.script.name||"N/A"})]}),s.callOutcomeCategory&&e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Outcome"}),e.jsx("span",{className:"campaigns-info-value",children:s.callOutcomeCategory})]}),s.callInterestScore&&e.jsxs("div",{className:"campaigns-info-row",children:[e.jsx("span",{className:"campaigns-info-label",children:"Interest Score"}),e.jsx("span",{className:"campaigns-info-value campaigns-info-value-emphasis",children:s.callInterestScore})]})]}),s.audioUrl&&s.audioUrl.startsWith("https://")&&e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[e.jsx("span",{className:"campaigns-info-label",style:{display:"block",marginBottom:"8px"},children:"Audio"}),e.jsx("audio",{controls:!0,style:{width:"100%",height:"32px",marginBottom:"8px"},children:e.jsx("source",{src:s.audioUrl,type:"audio/mpeg"})}),e.jsx("button",{className:"campaigns-btn-unified campaigns-btn-secondary-unified",onClick:()=>window.open(s.audioUrl,"_blank"),style:{padding:"6px 12px",fontSize:"12px"},children:"Download Audio"})]}),s.transcript&&e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[e.jsx("span",{className:"campaigns-info-label",style:{display:"block",marginBottom:"12px"},children:"Transcript"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"300px",overflowY:"auto",padding:"8px",background:"#f9fafb",borderRadius:"8px"},children:ie(s.transcript).map((i,a)=>e.jsx("div",{style:{display:"flex",justifyContent:i.role==="user"?"flex-end":"flex-start",alignItems:"flex-start",gap:"8px"},children:e.jsx("div",{style:{maxWidth:"75%",padding:"10px 14px",borderRadius:"12px",fontSize:"13px",lineHeight:"1.5",wordBreak:"break-word",whiteSpace:"pre-wrap",background:i.role==="user"?"#4B5CFF":"#ffffff",color:i.role==="user"?"#ffffff":"#111827",border:i.role==="agent"?"1px solid #e5e7eb":"none",boxShadow:i.role==="agent"?"0 1px 2px rgba(0,0,0,0.05)":"none"},children:i.content})},a))})]}),s.callSummary&&e.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[e.jsx("span",{className:"campaigns-info-label",style:{display:"block",marginBottom:"8px"},children:"Summary"}),e.jsx("div",{style:{padding:"12px",background:"white",borderRadius:"6px",fontSize:"13px",lineHeight:"1.6",color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:s.callSummary})]})]},s.id||t))})]})]}),g.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"campaigns-info-divider"}),e.jsx("div",{className:"campaigns-info-section",children:e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:[e.jsx("p",{style:{margin:0},children:"No call history available for this order yet."}),e.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"13px"},children:"Calls will appear here once the AI agent attempts this order."})]})})]})]}),e.jsx("div",{className:"campaigns-modal-footer",children:e.jsx("button",{className:"campaigns-btn-unified campaigns-btn-primary-unified",onClick:()=>u(!1),children:"Close"})})]})})]})};export{xe as default};
