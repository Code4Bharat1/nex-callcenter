function a(o){if(!o||typeof o!="string")return[];const e=[],l=o.split(`
`);let t=null;for(const n of l){const s=n.trim();if(!s){t&&(e.push(t),t=null);continue}const r=s.match(/^(user|customer|User|Customer):\s*(.+)/i),i=s.match(/^(agent|assistant|Agent|Assistant):\s*(.+)/i);if(r)t&&e.push(t),t={role:"user",content:r[2].trim()};else if(i)t&&e.push(t),t={role:"agent",content:i[2].trim()};else if(t)t.content+=" "+s;else if(e.length===0)t={role:"agent",content:s};else{const c=e[e.length-1];c&&c.role==="agent"?t={role:"user",content:s}:t={role:"agent",content:s}}}return t&&e.push(t),e.filter(n=>n.content&&n.content.trim().length>0).map(n=>({...n,content:n.content.trim()}))}export{a as p};
