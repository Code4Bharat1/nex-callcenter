import{j as e,r as k}from"./index-B_YWOrie.js";const z=({data:l=[],labels:y=[],showLabels:v=!0})=>{if(!Array.isArray(l)||l.length===0)return e.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"No retry data available"});const[d,f]=k.useState(null),g=t=>!Array.isArray(t)||t.length<4?0:(t[0]||0)+(t[1]||0)+(t[2]||0)+(t[3]||0),a=Math.max(...l.map(t=>g(t))),x=(t,s)=>{const n=t.target.getBoundingClientRect();f({text:s,x:n.left+n.width/2,y:n.top-8})},r=()=>{f(null)};return e.jsxs("div",{style:{width:"100%",maxWidth:"500px",background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},onMouseLeave:r,children:[e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e.jsx("h3",{style:{fontSize:"14px",fontWeight:500,color:"#4b5563",margin:0},children:"Retry Progress"}),e.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:"Per attempt"})]}),e.jsxs("div",{style:{fontSize:"30px",fontWeight:700,color:"#111827"},children:[a.toLocaleString()," ",e.jsx("span",{style:{fontSize:"18px",fontWeight:400,color:"#9ca3af"},children:"calls"})]}),e.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"4px",margin:0},children:"Peak attempt volume"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.map((t,s)=>{if(!Array.isArray(t)||t.length<4)return null;const[n=0,p=0,c=0,h=0]=t,i=g(t);if(i===0)return null;const j=c/i*100,m=p/i*100,b=n/i*100,S=h/i*100,u=i/a*100,w=u>=99;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[v&&e.jsx("div",{style:{fontSize:"12px",fontWeight:500,color:"#6b7280",width:"32px",flexShrink:0},children:y[s]||`Q${s+1}`}),e.jsxs("div",{style:{flex:1,position:"relative",height:"24px"},children:[e.jsx("div",{style:{position:"absolute",inset:0,background:"#f3f4f6",borderRadius:"9999px"}}),e.jsxs("div",{style:{position:"absolute",left:0,top:0,height:"100%",display:"flex",overflow:"hidden",width:`${u}%`,borderRadius:w?"9999px":"9999px 0 0 9999px"},children:[c>0&&e.jsx("div",{style:{width:`${j}%`,background:"linear-gradient(to right, #6366f1, #4f46e5)",minWidth:"4px",height:"24px"},onMouseEnter:o=>x(o,`Not Picked: ${c}`),onMouseLeave:r}),p>0&&e.jsx("div",{style:{width:`${m}%`,background:"linear-gradient(to right, #a5b4fc, #818cf8)",minWidth:"4px",height:"24px"},onMouseEnter:o=>x(o,`Other: ${p}`),onMouseLeave:r}),n>0&&e.jsx("div",{style:{width:`${b}%`,background:"linear-gradient(to right, #e0e7ff, #c7d2fe)",minWidth:"4px",height:"24px"},onMouseEnter:o=>x(o,`Converted: ${n}`),onMouseLeave:r}),h>0&&e.jsx("div",{style:{width:`${S}%`,background:"#e5e7eb",minWidth:"4px",height:"24px"},onMouseEnter:o=>x(o,`Queued: ${h}`),onMouseLeave:r})]})]}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280",width:"40px",textAlign:"right",flexShrink:0},children:i})]},s)})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"12px",paddingLeft:"40px",paddingRight:"8px",fontSize:"12px",color:"#9ca3af"},children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:Math.floor(a/2).toLocaleString()}),e.jsx("span",{children:a.toLocaleString()})]}),d&&e.jsxs("div",{style:{position:"fixed",left:d.x,top:d.y,transform:"translate(-50%, -100%)",background:"#1f2937",color:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:500,whiteSpace:"nowrap",zIndex:9999,pointerEvents:"none"},children:[d.text,e.jsx("div",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",width:"8px",height:"8px",background:"#1f2937",rotate:"45deg"}})]})]})};export{z as R};
